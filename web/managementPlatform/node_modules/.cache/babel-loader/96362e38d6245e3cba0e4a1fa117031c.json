{"remainingRequest":"C:\\Users\\FORRE\\Desktop\\LabelClubWebsite\\web\\managementPlatform\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\FORRE\\Desktop\\LabelClubWebsite\\web\\managementPlatform\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\FORRE\\Desktop\\LabelClubWebsite\\web\\managementPlatform\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\FORRE\\Desktop\\LabelClubWebsite\\web\\managementPlatform\\src\\layout\\navBars\\tagsView\\contextmenu.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\FORRE\\Desktop\\LabelClubWebsite\\web\\managementPlatform\\src\\layout\\navBars\\tagsView\\contextmenu.vue","mtime":1708837928000},{"path":"C:\\Users\\FORRE\\Desktop\\LabelClubWebsite\\web\\managementPlatform\\babel.config.js","mtime":1708837928000},{"path":"C:\\Users\\FORRE\\Desktop\\LabelClubWebsite\\web\\managementPlatform\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1619085956000},{"path":"C:\\Users\\FORRE\\Desktop\\LabelClubWebsite\\web\\managementPlatform\\node_modules\\babel-loader\\lib\\index.js","mtime":1671005778000},{"path":"C:\\Users\\FORRE\\Desktop\\LabelClubWebsite\\web\\managementPlatform\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1619085956000},{"path":"C:\\Users\\FORRE\\Desktop\\LabelClubWebsite\\web\\managementPlatform\\node_modules\\vue-loader\\lib\\index.js","mtime":1671005790000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnbGF5b3V0VGFnc1ZpZXdDb250ZXh0bWVudScsCiAgcHJvcHM6IHsKICAgIGRyb3Bkb3duOiB7CiAgICAgIHR5cGU6IE9iamVjdAogICAgfQogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGlzU2hvdzogZmFsc2UsCiAgICAgIGRyb3Bkb3duTGlzdDogW3sKICAgICAgICBpZDogMCwKICAgICAgICB0eHQ6ICdtZXNzYWdlLnRhZ3NWaWV3LnJlZnJlc2gnLAogICAgICAgIGFmZml4OiBmYWxzZSwKICAgICAgICBpY29uOiAnZWwtaWNvbi1yZWZyZXNoLXJpZ2h0JwogICAgICB9LCB7CiAgICAgICAgaWQ6IDEsCiAgICAgICAgdHh0OiAnbWVzc2FnZS50YWdzVmlldy5jbG9zZScsCiAgICAgICAgYWZmaXg6IGZhbHNlLAogICAgICAgIGljb246ICdlbC1pY29uLWNsb3NlJwogICAgICB9LCB7CiAgICAgICAgaWQ6IDIsCiAgICAgICAgdHh0OiAnbWVzc2FnZS50YWdzVmlldy5jbG9zZU90aGVyJywKICAgICAgICBhZmZpeDogZmFsc2UsCiAgICAgICAgaWNvbjogJ2VsLWljb24tY2lyY2xlLWNsb3NlJwogICAgICB9LCB7CiAgICAgICAgaWQ6IDMsCiAgICAgICAgdHh0OiAnbWVzc2FnZS50YWdzVmlldy5jbG9zZUFsbCcsCiAgICAgICAgYWZmaXg6IGZhbHNlLAogICAgICAgIGljb246ICdlbC1pY29uLWZvbGRlci1kZWxldGUnCiAgICAgIH1dLAogICAgICBwYXRoOiB7fSwKICAgICAgYXJyb3dMZWZ0OiA1CiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGRyb3Bkb3ducygpIHsKICAgICAgLy8gOTkg5Li6IGBEcm9wZG93biDkuIvmi4noj5zljZVgIOeahOWuveW6pgogICAgICBpZiAodGhpcy5kcm9wZG93bi54ICsgOTkgPiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGgpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgeDogZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoIC0gOTkgLSA1LAogICAgICAgICAgeTogdGhpcy5kcm9wZG93bi55CiAgICAgICAgfTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gdGhpcy5kcm9wZG93bjsKICAgICAgfQogICAgfQogIH0sCiAgbW91bnRlZCgpIHsKICAgIC8vIOebkeWQrOmhtemdouebkeWQrOi/m+ihjOWPs+mUruiPnOWNleeahOWFs+mXrQogICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuY2xvc2VDb250ZXh0bWVudSk7CiAgfSwKICBtZXRob2RzOiB7CiAgICAvLyDlvZPliY3pobnoj5zljZXngrnlh7sKICAgIG9uQ3VycmVudENvbnRleHRtZW51Q2xpY2soaWQpIHsKICAgICAgdGhpcy4kZW1pdCgnY3VycmVudENvbnRleHRtZW51Q2xpY2snLCB7CiAgICAgICAgaWQsCiAgICAgICAgcGF0aDogdGhpcy5wYXRoCiAgICAgIH0pOwogICAgfSwKICAgIC8vIOaJk+W8gOWPs+mUruiPnOWNle+8muWIpOaWreaYr+WQpuWbuuWumu+8jOWbuuWumuWImeS4jeaYvuekuuWFs+mXreaMiemSrgogICAgb3BlbkNvbnRleHRtZW51KGl0ZW0pIHsKICAgICAgdGhpcy5wYXRoID0gaXRlbS5wYXRoOwogICAgICBpdGVtLm1ldGEuaXNBZmZpeCA/IHRoaXMuZHJvcGRvd25MaXN0WzFdLmFmZml4ID0gdHJ1ZSA6IHRoaXMuZHJvcGRvd25MaXN0WzFdLmFmZml4ID0gZmFsc2U7CiAgICAgIHRoaXMuY2xvc2VDb250ZXh0bWVudSgpOwogICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICB0aGlzLmlzU2hvdyA9IHRydWU7CiAgICAgIH0sIDgwKTsKICAgIH0sCiAgICAvLyDlhbPpl63lj7PplK7oj5zljZUKICAgIGNsb3NlQ29udGV4dG1lbnUoKSB7CiAgICAgIHRoaXMuaXNTaG93ID0gZmFsc2U7CiAgICB9CiAgfSwKICBkZXN0cm95ZWQoKSB7CiAgICAvLyDpobXpnaLljbjovb3ml7bvvIznp7vpmaTlj7PplK7oj5zljZXnm5HlkKzkuovku7YKICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmNsb3NlQ29udGV4dG1lbnUpOwogIH0sCiAgLy8g55uR5ZCs5LiL5ouJ6I+c5Y2V5L2N572uCiAgd2F0Y2g6IHsKICAgIGRyb3Bkb3duOiB7CiAgICAgIGhhbmRsZXIoewogICAgICAgIHgKICAgICAgfSkgewogICAgICAgIGlmICh4ICsgOTkgPiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGgpIHRoaXMuYXJyb3dMZWZ0ID0gOTkgLSAoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoIC0geCk7ZWxzZSB0aGlzLmFycm93TGVmdCA9IDEwOwogICAgICB9LAogICAgICBkZWVwOiB0cnVlCiAgICB9CiAgfQp9Ow=="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAuBA;EACAA;EACAC;IACAC;MACAC;IACA;EACA;EACAC;IACA;MACAC;MACAC,eACA;QAAAC;QAAAC;QAAAC;QAAAC;MAAA,GACA;QAAAH;QAAAC;QAAAC;QAAAC;MAAA,GACA;QAAAH;QAAAC;QAAAC;QAAAC;MAAA,GACA;QAAAH;QAAAC;QAAAC;QAAAC;MAAA,EACA;MACAC;MACAC;IACA;EACA;EACAC;IACAC;MACA;MACA;QACA;UACAC;UACAC;QACA;MACA;QACA;MACA;IACA;EACA;EACAC;IACA;IACAC;EACA;EACAC;IACA;IACAC;MACA;QAAAb;QAAAI;MAAA;IACA;IACA;IACAU;MACA;MACAC;MACA;MACAC;QACA;MACA;IACA;IACA;IACAC;MACA;IACA;EACA;EACAC;IACA;IACAP;EACA;EACA;EACAQ;IACAxB;MACAyB;QAAAZ;MAAA;QACA,yHACA;MACA;MACAa;IACA;EACA;AACA","names":["name","props","dropdown","type","data","isShow","dropdownList","id","txt","affix","icon","path","arrowLeft","computed","dropdowns","x","y","mounted","document","methods","onCurrentContextmenuClick","openContextmenu","item","setTimeout","closeContextmenu","destroyed","watch","handler","deep"],"sourceRoot":"src/layout/navBars/tagsView","sources":["contextmenu.vue"],"sourcesContent":["<template>\n\t<div>\n\t\t<transition name=\"el-zoom-in-center\">\n\t\t\t<ul\n\t\t\t\tclass=\"el-dropdown-menu el-popper el-dropdown-menu--medium custom-contextmenu\"\n\t\t\t\t:style=\"`top: ${dropdowns.y}px;left: ${dropdowns.x}px;`\"\n\t\t\t\tx-placement=\"bottom-end\"\n\t\t\t\tid=\"contextmenu\"\n\t\t\t\tv-show=\"isShow\"\n\t\t\t>\n\t\t\t\t<li class=\"el-dropdown-menu__item\" v-for=\"(v, k) in dropdownList\" :key=\"k\" @click=\"onCurrentContextmenuClick(v.id)\">\n\t\t\t\t\t<template v-if=\"!v.affix\">\n\t\t\t\t\t\t<i :class=\"v.icon\"></i>\n\t\t\t\t\t\t<span>{{ $t(v.txt) }}</span>\n\t\t\t\t\t</template>\n\t\t\t\t</li>\n\t\t\t\t<div x-arrow class=\"popper__arrow\" :style=\"{ left: `${arrowLeft}px` }\"></div>\n\t\t\t</ul>\n\t\t</transition>\n\t</div>\n</template>\n\n<script>\nexport default {\n\tname: 'layoutTagsViewContextmenu',\n\tprops: {\n\t\tdropdown: {\n\t\t\ttype: Object,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tisShow: false,\n\t\t\tdropdownList: [\n\t\t\t\t{ id: 0, txt: 'message.tagsView.refresh', affix: false, icon: 'el-icon-refresh-right' },\n\t\t\t\t{ id: 1, txt: 'message.tagsView.close', affix: false, icon: 'el-icon-close' },\n\t\t\t\t{ id: 2, txt: 'message.tagsView.closeOther', affix: false, icon: 'el-icon-circle-close' },\n\t\t\t\t{ id: 3, txt: 'message.tagsView.closeAll', affix: false, icon: 'el-icon-folder-delete' },\n\t\t\t],\n\t\t\tpath: {},\n\t\t\tarrowLeft: 5,\n\t\t};\n\t},\n\tcomputed: {\n\t\tdropdowns() {\n\t\t\t// 99 为 `Dropdown 下拉菜单` 的宽度\n\t\t\tif (this.dropdown.x + 99 > document.documentElement.clientWidth) {\n\t\t\t\treturn {\n\t\t\t\t\tx: document.documentElement.clientWidth - 99 - 5,\n\t\t\t\t\ty: this.dropdown.y,\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\treturn this.dropdown;\n\t\t\t}\n\t\t},\n\t},\n\tmounted() {\n\t\t// 监听页面监听进行右键菜单的关闭\n\t\tdocument.body.addEventListener('click', this.closeContextmenu);\n\t},\n\tmethods: {\n\t\t// 当前项菜单点击\n\t\tonCurrentContextmenuClick(id) {\n\t\t\tthis.$emit('currentContextmenuClick', { id, path: this.path });\n\t\t},\n\t\t// 打开右键菜单：判断是否固定，固定则不显示关闭按钮\n\t\topenContextmenu(item) {\n\t\t\tthis.path = item.path;\n\t\t\titem.meta.isAffix ? (this.dropdownList[1].affix = true) : (this.dropdownList[1].affix = false);\n\t\t\tthis.closeContextmenu();\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.isShow = true;\n\t\t\t}, 80);\n\t\t},\n\t\t// 关闭右键菜单\n\t\tcloseContextmenu() {\n\t\t\tthis.isShow = false;\n\t\t},\n\t},\n\tdestroyed() {\n\t\t// 页面卸载时，移除右键菜单监听事件\n\t\tdocument.body.removeEventListener('click', this.closeContextmenu);\n\t},\n\t// 监听下拉菜单位置\n\twatch: {\n\t\tdropdown: {\n\t\t\thandler({ x }) {\n\t\t\t\tif (x + 99 > document.documentElement.clientWidth) this.arrowLeft = 99 - (document.documentElement.clientWidth - x);\n\t\t\t\telse this.arrowLeft = 10;\n\t\t\t},\n\t\t\tdeep: true,\n\t\t},\n\t},\n};\n</script>\n\n<style scoped lang=\"scss\">\n.custom-contextmenu {\n\ttransform-origin: center top;\n\tz-index: 2190;\n\tposition: fixed;\n\t.el-dropdown-menu__item {\n\t\tfont-size: 12px !important;\n\t\twhite-space: nowrap;\n\t\ti {\n\t\t\tfont-size: 12px !important;\n\t\t}\n\t}\n}\n</style>\n"]}]}