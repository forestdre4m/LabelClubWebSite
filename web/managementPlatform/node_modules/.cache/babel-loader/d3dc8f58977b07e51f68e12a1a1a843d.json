{"remainingRequest":"C:\\Users\\FORRE\\Desktop\\LabelClubWebsite\\web\\managementPlatform\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\FORRE\\Desktop\\LabelClubWebsite\\web\\managementPlatform\\src\\utils\\request.js","dependencies":[{"path":"C:\\Users\\FORRE\\Desktop\\LabelClubWebsite\\web\\managementPlatform\\src\\utils\\request.js","mtime":1708837928000},{"path":"C:\\Users\\FORRE\\Desktop\\LabelClubWebsite\\web\\managementPlatform\\babel.config.js","mtime":1708837928000},{"path":"C:\\Users\\FORRE\\Desktop\\LabelClubWebsite\\web\\managementPlatform\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1619085956000},{"path":"C:\\Users\\FORRE\\Desktop\\LabelClubWebsite\\web\\managementPlatform\\node_modules\\babel-loader\\lib\\index.js","mtime":1671005778000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCBzdG9yZSBmcm9tICdAL3N0b3JlJzsKaW1wb3J0IHJvdXRlciwgeyByZXNldFJvdXRlciB9IGZyb20gJ0Avcm91dGVyL2luZGV4JzsKaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKaW1wb3J0IHsgTWVzc2FnZSwgTWVzc2FnZUJveCB9IGZyb20gJ2VsZW1lbnQtdWknOwppbXBvcnQgeyBTZXNzaW9uIH0gZnJvbSAnQC91dGlscy9zdG9yYWdlJzsKCi8vIOWIm+W7uiBheGlvcyDlrp7kvosKY29uc3Qgc2VydmljZSA9IGF4aW9zLmNyZWF0ZSh7CiAgYmFzZVVSTDogcHJvY2Vzcy5lbnYuVlVFX0FQUF9CQVNFX0FQSSwKICB0aW1lb3V0OiA1MDAwMCwKICBoZWFkZXJzOiB7CiAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nCiAgfQp9KTsKCi8vIOa3u+WKoOivt+axguaLpuaIquWZqApzZXJ2aWNlLmludGVyY2VwdG9ycy5yZXF1ZXN0LnVzZShjb25maWcgPT4gewogIC8vIOWcqOWPkemAgeivt+axguS5i+WJjeWBmuS6m+S7gOS5iCB0b2tlbgogIGlmIChTZXNzaW9uLmdldCgndG9rZW4nKSkgewogICAgY29uZmlnLmhlYWRlcnMuY29tbW9uWyd0b2tlbiddID0gYCR7U2Vzc2lvbi5nZXQoJ3Rva2VuJyl9YDsKICB9CiAgcmV0dXJuIGNvbmZpZzsKfSwgZXJyb3IgPT4gewogIC8vIOWvueivt+axgumUmeivr+WBmuS6m+S7gOS5iAogIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7Cn0pOwoKLy8g5re75Yqg5ZON5bqU5oum5oiq5ZmoCnNlcnZpY2UuaW50ZXJjZXB0b3JzLnJlc3BvbnNlLnVzZShyZXNwb25zZSA9PiB7CiAgLy8g5a+55ZON5bqU5pWw5o2u5YGa54K55LuA5LmICiAgY29uc3QgcmVzID0gcmVzcG9uc2UuZGF0YTsKICBpZiAocmVzLmNvZGUgJiYgcmVzLmNvZGUgIT09ICIwIikgewogICAgLy8gYHRva2VuYCDov4fmnJ/miJbogIXotKblj7flt7LlnKjliKvlpITnmbvlvZUKICAgIGlmIChyZXMuY29kZSA9PT0gNDAxIHx8IHJlcy5jb2RlID09PSA0MDAxKSB7CiAgICAgIC8vIOa4hemZpOa1j+iniOWZqOWFqOmDqOS4tOaXtue8k+WtmAogICAgICBTZXNzaW9uLmNsZWFyKCk7CiAgICAgIHJvdXRlci5wdXNoKCcvbG9naW4nKTsKICAgICAgc3RvcmUuY29tbWl0KCdzZXRNZW51RGF0YScsIHt9KTsKICAgICAgcmVzZXRSb3V0ZXIoKTsgLy8g6YeN572u6Lev55SxCiAgICAgIE1lc3NhZ2VCb3guYWxlcnQoJ+S9oOW3suiiq+eZu+WHuu+8jOivt+mHjeaWsOeZu+W9lScsICfmj5DnpLonLCB7fSkudGhlbigoKSA9PiB7fSkuY2F0Y2goKCkgPT4ge30pOwogICAgfQogICAgcmV0dXJuIFByb21pc2UucmVqZWN0KHJlcy5tc2cpOwogIH0gZWxzZSB7CiAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTsKICB9Cn0sIGVycm9yID0+IHsKICAvLyDlr7nlk43lupTplJnor6/lgZrngrnku4DkuYgKICBpZiAoZXJyb3IubWVzc2FnZS5pbmRleE9mKCd0aW1lb3V0JykgIT0gLTEpIHsKICAgIE1lc3NhZ2UuZXJyb3IoJ+e9kee7nOi2heaXticpOwogIH0gZWxzZSBpZiAoZXJyb3IubWVzc2FnZSA9PSAnTmV0d29yayBFcnJvcicpIHsKICAgIE1lc3NhZ2UuZXJyb3IoJ+e9kee7nOi/nuaOpemUmeivrycpOwogIH0gZWxzZSB7CiAgICBNZXNzYWdlLmVycm9yKGVycm9yLnJlc3BvbnNlLmRhdGEubXNnKTsKICB9CiAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTsKfSk7CgovLyDlr7zlh7ogYXhpb3Mg5a6e5L6LCmV4cG9ydCBkZWZhdWx0IHNlcnZpY2U7"},{"version":3,"names":["store","router","resetRouter","axios","Message","MessageBox","Session","service","create","baseURL","process","env","VUE_APP_BASE_API","timeout","headers","interceptors","request","use","config","get","common","error","Promise","reject","response","res","data","code","clear","push","commit","alert","then","catch","msg","message","indexOf"],"sources":["C:/Users/FORRE/Desktop/LabelClubWebsite/web/managementPlatform/src/utils/request.js"],"sourcesContent":["import store from '@/store';\nimport router, { resetRouter } from '@/router/index';\nimport axios from 'axios';\nimport { Message, MessageBox } from 'element-ui';\nimport { Session } from '@/utils/storage';\n\n// 创建 axios 实例\nconst service = axios.create({\n\tbaseURL: process.env.VUE_APP_BASE_API,\n\ttimeout: 50000,\n\theaders: { 'Content-Type': 'application/json' },\n});\n\n// 添加请求拦截器\nservice.interceptors.request.use(\n\t(config) => {\n\t\t// 在发送请求之前做些什么 token\n\t\tif (Session.get('token')) {\n\t\t\tconfig.headers.common['token'] = `${Session.get('token')}`;\n\t\t}\n\t\treturn config;\n\t},\n\t(error) => {\n\t\t// 对请求错误做些什么\n\t\treturn Promise.reject(error);\n\t}\n);\n\n// 添加响应拦截器\nservice.interceptors.response.use(\n\t(response) => {\n\t\t// 对响应数据做点什么\n\t\tconst res = response.data;\n\t\tif (res.code && res.code !== \"0\") {\n\t\t\t// `token` 过期或者账号已在别处登录\n\t\t\tif (res.code === 401 || res.code === 4001) {\n\t\t\t\t// 清除浏览器全部临时缓存\n\t\t\t\tSession.clear();\n\t\t\t\trouter.push('/login');\n\t\t\t\tstore.commit('setMenuData', {});\n\t\t\t\tresetRouter(); // 重置路由\n\t\t\t\tMessageBox.alert('你已被登出，请重新登录', '提示', {})\n\t\t\t\t\t.then(() => {})\n\t\t\t\t\t.catch(() => {});\n\t\t\t}\n\t\t\treturn Promise.reject(res.msg);\n\t\t} else {\n\t\t\treturn response.data;\n\t\t}\n\t},\n\t(error) => {\n\t\t// 对响应错误做点什么\n\t\tif (error.message.indexOf('timeout') != -1) {\n\t\t\tMessage.error('网络超时');\n\t\t} else if (error.message == 'Network Error') {\n\t\t\tMessage.error('网络连接错误');\n\t\t} else {\n\t\t\tMessage.error(error.response.data.msg);\n\t\t}\n\t\treturn Promise.reject(error);\n\t}\n);\n\n// 导出 axios 实例\nexport default service;\n"],"mappings":";AAAA,OAAOA,KAAK,MAAM,SAAS;AAC3B,OAAOC,MAAM,IAAIC,WAAW,QAAQ,gBAAgB;AACpD,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,OAAO,EAAEC,UAAU,QAAQ,YAAY;AAChD,SAASC,OAAO,QAAQ,iBAAiB;;AAEzC;AACA,MAAMC,OAAO,GAAGJ,KAAK,CAACK,MAAM,CAAC;EAC5BC,OAAO,EAAEC,OAAO,CAACC,GAAG,CAACC,gBAAgB;EACrCC,OAAO,EAAE,KAAK;EACdC,OAAO,EAAE;IAAE,cAAc,EAAE;EAAmB;AAC/C,CAAC,CAAC;;AAEF;AACAP,OAAO,CAACQ,YAAY,CAACC,OAAO,CAACC,GAAG,CAC9BC,MAAM,IAAK;EACX;EACA,IAAIZ,OAAO,CAACa,GAAG,CAAC,OAAO,CAAC,EAAE;IACzBD,MAAM,CAACJ,OAAO,CAACM,MAAM,CAAC,OAAO,CAAC,GAAI,GAAEd,OAAO,CAACa,GAAG,CAAC,OAAO,CAAE,EAAC;EAC3D;EACA,OAAOD,MAAM;AACd,CAAC,EACAG,KAAK,IAAK;EACV;EACA,OAAOC,OAAO,CAACC,MAAM,CAACF,KAAK,CAAC;AAC7B,CAAC,CACD;;AAED;AACAd,OAAO,CAACQ,YAAY,CAACS,QAAQ,CAACP,GAAG,CAC/BO,QAAQ,IAAK;EACb;EACA,MAAMC,GAAG,GAAGD,QAAQ,CAACE,IAAI;EACzB,IAAID,GAAG,CAACE,IAAI,IAAIF,GAAG,CAACE,IAAI,KAAK,GAAG,EAAE;IACjC;IACA,IAAIF,GAAG,CAACE,IAAI,KAAK,GAAG,IAAIF,GAAG,CAACE,IAAI,KAAK,IAAI,EAAE;MAC1C;MACArB,OAAO,CAACsB,KAAK,EAAE;MACf3B,MAAM,CAAC4B,IAAI,CAAC,QAAQ,CAAC;MACrB7B,KAAK,CAAC8B,MAAM,CAAC,aAAa,EAAE,CAAC,CAAC,CAAC;MAC/B5B,WAAW,EAAE,CAAC,CAAC;MACfG,UAAU,CAAC0B,KAAK,CAAC,aAAa,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC,CACvCC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CACdC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC;IAClB;IACA,OAAOX,OAAO,CAACC,MAAM,CAACE,GAAG,CAACS,GAAG,CAAC;EAC/B,CAAC,MAAM;IACN,OAAOV,QAAQ,CAACE,IAAI;EACrB;AACD,CAAC,EACAL,KAAK,IAAK;EACV;EACA,IAAIA,KAAK,CAACc,OAAO,CAACC,OAAO,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,EAAE;IAC3ChC,OAAO,CAACiB,KAAK,CAAC,MAAM,CAAC;EACtB,CAAC,MAAM,IAAIA,KAAK,CAACc,OAAO,IAAI,eAAe,EAAE;IAC5C/B,OAAO,CAACiB,KAAK,CAAC,QAAQ,CAAC;EACxB,CAAC,MAAM;IACNjB,OAAO,CAACiB,KAAK,CAACA,KAAK,CAACG,QAAQ,CAACE,IAAI,CAACQ,GAAG,CAAC;EACvC;EACA,OAAOZ,OAAO,CAACC,MAAM,CAACF,KAAK,CAAC;AAC7B,CAAC,CACD;;AAED;AACA,eAAed,OAAO"}]}