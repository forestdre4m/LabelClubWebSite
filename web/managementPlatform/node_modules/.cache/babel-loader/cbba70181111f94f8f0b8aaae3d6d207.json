{"remainingRequest":"C:\\Users\\FORRE\\Desktop\\LabelClubWebsite\\web\\managementPlatform\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\FORRE\\Desktop\\LabelClubWebsite\\web\\managementPlatform\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\FORRE\\Desktop\\LabelClubWebsite\\web\\managementPlatform\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\FORRE\\Desktop\\LabelClubWebsite\\web\\managementPlatform\\src\\layout\\navBars\\breadcrumb\\search.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\FORRE\\Desktop\\LabelClubWebsite\\web\\managementPlatform\\src\\layout\\navBars\\breadcrumb\\search.vue","mtime":1708837928000},{"path":"C:\\Users\\FORRE\\Desktop\\LabelClubWebsite\\web\\managementPlatform\\babel.config.js","mtime":1708837928000},{"path":"C:\\Users\\FORRE\\Desktop\\LabelClubWebsite\\web\\managementPlatform\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1619085956000},{"path":"C:\\Users\\FORRE\\Desktop\\LabelClubWebsite\\web\\managementPlatform\\node_modules\\babel-loader\\lib\\index.js","mtime":1671005778000},{"path":"C:\\Users\\FORRE\\Desktop\\LabelClubWebsite\\web\\managementPlatform\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1619085956000},{"path":"C:\\Users\\FORRE\\Desktop\\LabelClubWebsite\\web\\managementPlatform\\node_modules\\vue-loader\\lib\\index.js","mtime":1671005790000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ2xheW91dEJyZWFkY3J1bWJTZWFyY2gnLAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBpc1Nob3dTZWFyY2g6IGZhbHNlLAogICAgICBtZW51UXVlcnk6ICcnLAogICAgICB0YWdzVmlld0xpc3Q6IFtdCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgLy8g5pCc57Si5by556qX5omT5byACiAgICBvcGVuU2VhcmNoKCkgewogICAgICB0aGlzLm1lbnVRdWVyeSA9ICcnOwogICAgICB0aGlzLmlzU2hvd1NlYXJjaCA9IHRydWU7CiAgICAgIHRoaXMuaW5pdFRhZ2VWaWV3KCk7CiAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsKICAgICAgICB0aGlzLiRyZWZzLmxheW91dE1lbnVBdXRvY29tcGxldGVSZWYuZm9jdXMoKTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g5pCc57Si5by556qX5YWz6ZetCiAgICBjbG9zZVNlYXJjaCgpIHsKICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgdGhpcy5pc1Nob3dTZWFyY2ggPSBmYWxzZTsKICAgICAgfSwgMTUwKTsKICAgIH0sCiAgICAvLyDoj5zljZXmkJzntKLmlbDmja7ov4fmu6QKICAgIG1lbnVTZWFyY2gocXVlcnlTdHJpbmcsIGNiKSB7CiAgICAgIGxldCByZXN1bHRzID0gcXVlcnlTdHJpbmcgPyB0aGlzLnRhZ3NWaWV3TGlzdC5maWx0ZXIodGhpcy5jcmVhdGVGaWx0ZXIocXVlcnlTdHJpbmcpKSA6IHRoaXMudGFnc1ZpZXdMaXN0OwogICAgICBjYihyZXN1bHRzKTsKICAgIH0sCiAgICAvLyDoj5zljZXmkJzntKLov4fmu6QKICAgIGNyZWF0ZUZpbHRlcihxdWVyeVN0cmluZykgewogICAgICByZXR1cm4gcmVzdGF1cmFudCA9PiB7CiAgICAgICAgcmV0dXJuIHJlc3RhdXJhbnQucGF0aC50b0xvd2VyQ2FzZSgpLmluZGV4T2YocXVlcnlTdHJpbmcudG9Mb3dlckNhc2UoKSkgPiAtMSB8fCByZXN0YXVyYW50Lm1ldGEudGl0bGUudG9Mb3dlckNhc2UoKS5pbmRleE9mKHF1ZXJ5U3RyaW5nLnRvTG93ZXJDYXNlKCkpID4gLTEgfHwgdGhpcy4kdChyZXN0YXVyYW50Lm1ldGEudGl0bGUpLnRvTG93ZXJDYXNlKCkuaW5kZXhPZihxdWVyeVN0cmluZy50b0xvd2VyQ2FzZSgpKSA+IC0xOwogICAgICB9OwogICAgfSwKICAgIC8vIOWIneWni+WMluiPnOWNleaVsOaNrgogICAgaW5pdFRhZ2VWaWV3KCkgewogICAgICBpZiAodGhpcy50YWdzVmlld0xpc3QubGVuZ3RoID4gMCkgcmV0dXJuIGZhbHNlOwogICAgICB0aGlzLiRzdG9yZS5zdGF0ZS50YWdzVmlld1JvdXRlcy50YWdzVmlld1JvdXRlcy5tYXAodiA9PiB7CiAgICAgICAgaWYgKCF2Lm1ldGEuaXNIaWRlKSB0aGlzLnRhZ3NWaWV3TGlzdC5wdXNoKHsKICAgICAgICAgIC4uLnYKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g5b2T5YmN6I+c5Y2V6YCJ5Lit5pe2CiAgICBvbkhhbmRsZVNlbGVjdChpdGVtKSB7CiAgICAgIGxldCB7CiAgICAgICAgcGF0aCwKICAgICAgICByZWRpcmVjdAogICAgICB9ID0gaXRlbTsKICAgICAgaWYgKGl0ZW0ubWV0YS5pc0xpbmsgJiYgIWl0ZW0ubWV0YS5pc0lmcmFtZSkgd2luZG93Lm9wZW4oaXRlbS5tZXRhLmlzTGluayk7ZWxzZSBpZiAocmVkaXJlY3QpIHRoaXMuJHJvdXRlci5wdXNoKHJlZGlyZWN0KTtlbHNlIHRoaXMuJHJvdXRlci5wdXNoKHBhdGgpOwogICAgICB0aGlzLmNsb3NlU2VhcmNoKCk7CiAgICB9LAogICAgLy8gaW5wdXQg5aSx5Y6754Sm54K55pe2CiAgICBvblNlYXJjaEJsdXIoKSB7CiAgICAgIHRoaXMuY2xvc2VTZWFyY2goKTsKICAgIH0KICB9Cn07"},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;AAqBA;EACAA;EACAC;IACA;MACAC;MACAC;MACAC;IACA;EACA;EACAC;IACA;IACAC;MACA;MACA;MACA;MACA;QACA;MACA;IACA;IACA;IACAC;MACAC;QACA;MACA;IACA;IACA;IACAC;MACA;MACAC;IACA;IACA;IACAC;MACA;QACA,OACAC,yEACAA,+EACA;MAEA;IACA;IACA;IACAC;MACA;MACA;QACA;UAAA;QAAA;MACA;IACA;IACA;IACAC;MACA;QAAAC;QAAAC;MAAA;MACA,gFACA,+CACA;MACA;IACA;IACA;IACAC;MACA;IACA;EACA;AACA","names":["name","data","isShowSearch","menuQuery","tagsViewList","methods","openSearch","closeSearch","setTimeout","menuSearch","cb","createFilter","restaurant","initTageView","onHandleSelect","path","redirect","onSearchBlur"],"sourceRoot":"src/layout/navBars/breadcrumb","sources":["search.vue"],"sourcesContent":["<template>\n\t<div class=\"layout-search-dialog\">\n\t\t<el-dialog :visible.sync=\"isShowSearch\" width=\"300px\" destroy-on-close :modal=\"false\" fullscreen :show-close=\"false\">\n\t\t\t<el-autocomplete\n\t\t\t\tv-model=\"menuQuery\"\n\t\t\t\t:fetch-suggestions=\"menuSearch\"\n\t\t\t\t:placeholder=\"$t('message.user.searchPlaceholder')\"\n\t\t\t\tprefix-icon=\"el-icon-search\"\n\t\t\t\tref=\"layoutMenuAutocompleteRef\"\n\t\t\t\t@select=\"onHandleSelect\"\n\t\t\t\t@blur=\"onSearchBlur\"\n\t\t\t>\n\t\t\t\t<template slot-scope=\"{ item }\">\n\t\t\t\t\t<div><i :class=\"item.meta.icon\" class=\"mr10\"></i>{{ $t(item.meta.title) }}</div>\n\t\t\t\t</template>\n\t\t\t</el-autocomplete>\n\t\t</el-dialog>\n\t</div>\n</template>\n\n<script>\nexport default {\n\tname: 'layoutBreadcrumbSearch',\n\tdata() {\n\t\treturn {\n\t\t\tisShowSearch: false,\n\t\t\tmenuQuery: '',\n\t\t\ttagsViewList: [],\n\t\t};\n\t},\n\tmethods: {\n\t\t// 搜索弹窗打开\n\t\topenSearch() {\n\t\t\tthis.menuQuery = '';\n\t\t\tthis.isShowSearch = true;\n\t\t\tthis.initTageView();\n\t\t\tthis.$nextTick(() => {\n\t\t\t\tthis.$refs.layoutMenuAutocompleteRef.focus();\n\t\t\t});\n\t\t},\n\t\t// 搜索弹窗关闭\n\t\tcloseSearch() {\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.isShowSearch = false;\n\t\t\t}, 150);\n\t\t},\n\t\t// 菜单搜索数据过滤\n\t\tmenuSearch(queryString, cb) {\n\t\t\tlet results = queryString ? this.tagsViewList.filter(this.createFilter(queryString)) : this.tagsViewList;\n\t\t\tcb(results);\n\t\t},\n\t\t// 菜单搜索过滤\n\t\tcreateFilter(queryString) {\n\t\t\treturn (restaurant) => {\n\t\t\t\treturn (\n\t\t\t\t\trestaurant.path.toLowerCase().indexOf(queryString.toLowerCase()) > -1 ||\n\t\t\t\t\trestaurant.meta.title.toLowerCase().indexOf(queryString.toLowerCase()) > -1 ||\n\t\t\t\t\tthis.$t(restaurant.meta.title).toLowerCase().indexOf(queryString.toLowerCase()) > -1\n\t\t\t\t);\n\t\t\t};\n\t\t},\n\t\t// 初始化菜单数据\n\t\tinitTageView() {\n\t\t\tif (this.tagsViewList.length > 0) return false;\n\t\t\tthis.$store.state.tagsViewRoutes.tagsViewRoutes.map((v) => {\n\t\t\t\tif (!v.meta.isHide) this.tagsViewList.push({ ...v });\n\t\t\t});\n\t\t},\n\t\t// 当前菜单选中时\n\t\tonHandleSelect(item) {\n\t\t\tlet { path, redirect } = item;\n\t\t\tif (item.meta.isLink && !item.meta.isIframe) window.open(item.meta.isLink);\n\t\t\telse if (redirect) this.$router.push(redirect);\n\t\t\telse this.$router.push(path);\n\t\t\tthis.closeSearch();\n\t\t},\n\t\t// input 失去焦点时\n\t\tonSearchBlur() {\n\t\t\tthis.closeSearch();\n\t\t},\n\t},\n};\n</script>\n\n<style scoped lang=\"scss\">\n.layout-search-dialog {\n\t::v-deep .el-dialog {\n\t\tbox-shadow: unset !important;\n\t\tborder-radius: 0 !important;\n\t\tbackground: rgba(0, 0, 0, 0.5);\n\t}\n\t::v-deep .el-autocomplete {\n\t\twidth: 560px;\n\t\tposition: absolute;\n\t\ttop: 100px;\n\t\tleft: 50%;\n\t\ttransform: translateX(-50%);\n\t}\n}\n</style>\n"]}]}