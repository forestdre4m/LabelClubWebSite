{"remainingRequest":"C:\\Users\\FORRE\\Desktop\\LabelClubWebsite\\web\\managementPlatform\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\FORRE\\Desktop\\LabelClubWebsite\\web\\managementPlatform\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\FORRE\\Desktop\\LabelClubWebsite\\web\\managementPlatform\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\FORRE\\Desktop\\LabelClubWebsite\\web\\managementPlatform\\src\\views\\yinpingaojian\\yinpingaojian_addlbdq.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\FORRE\\Desktop\\LabelClubWebsite\\web\\managementPlatform\\src\\views\\yinpingaojian\\yinpingaojian_addlbdq.vue","mtime":1708837930000},{"path":"C:\\Users\\FORRE\\Desktop\\LabelClubWebsite\\web\\managementPlatform\\babel.config.js","mtime":1708837928000},{"path":"C:\\Users\\FORRE\\Desktop\\LabelClubWebsite\\web\\managementPlatform\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1619085956000},{"path":"C:\\Users\\FORRE\\Desktop\\LabelClubWebsite\\web\\managementPlatform\\node_modules\\babel-loader\\lib\\index.js","mtime":1671005778000},{"path":"C:\\Users\\FORRE\\Desktop\\LabelClubWebsite\\web\\managementPlatform\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1619085956000},{"path":"C:\\Users\\FORRE\\Desktop\\LabelClubWebsite\\web\\managementPlatform\\node_modules\\vue-loader\\lib\\index.js","mtime":1671005790000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IHlpbnBpbmdhb2ppYW5FZGl0LCB5aW5waW5nYW9qaWFuU2F2ZSwgeWlucGluZ2FvamlhbkRldGFpbCB9IGZyb20gIkAvYXBpL3lpbnBpbmdhb2ppYW4veWlucGluZ2FvamlhbkFwaSI7CmltcG9ydCB7IFNlc3Npb24gfSBmcm9tICJAL3V0aWxzL3N0b3JhZ2UiOwppbXBvcnQgeyBjaGFuZ3BhaURldGFpbCwgY2hhbmdwYWlFZGl0IH0gZnJvbSAiLi4vLi4vYXBpL2NoYW5ncGFpL2NoYW5ncGFpQXBpIjsKLy94aWFiaWFvZHVhbjEKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdwZXJzb25hbCcsCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHJ1bGVzOiB7CiAgICAgICAgLy95enRzc3Nzc3MxCiAgICAgIH0sCiAgICAgIGVkaXRGb3JtOiB7CiAgICAgICAgYXZhdGVyOiAnJywKICAgICAgICBjaGFuZ3BhaW1pbmdjaGVuZzogJycKICAgICAgfSwKICAgICAgdXNlcm5hbWU6ICcnLAogICAgICBjeDogJycKICAgICAgLy94aWFiaWFvZHVhbjIKICAgIH07CiAgfSwKCiAgY3JlYXRlZCgpIHsKICAgIGlmICghU2Vzc2lvbi5nZXQoJ3VzZXJJbmZvJykpIHJldHVybiBmYWxzZTsKICAgIHRoaXMudXNlckluZm8gPSBTZXNzaW9uLmdldCgndXNlckluZm8nKTsKICAgIHRoaXMudXNlcm5hbWUgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgidXNlcm5hbWUiKTsKICAgIHRoaXMuY3ggPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiY3giKTsKICAgIGxldCBpZCA9IHRoaXMuJHJvdXRlLnBhcmFtcy5pZDsKICAgIC8veGlhYmlhb2R1YW4zCiAgICB0aGlzLmdldFVzZXJJbmZvKGlkKTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBoZWFkZXJzKCkgewogICAgICByZXR1cm4gewogICAgICAgICJ0b2tlbiI6IFNlc3Npb24uZ2V0KCJ0b2tlbiIpCiAgICAgIH07CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXRVc2VySW5mbyhpZCkgewogICAgICBjaGFuZ3BhaURldGFpbChpZCkudGhlbihyZXMgPT4gewogICAgICAgIGlmIChyZXMuY29kZSA9PSAnMCcpIHsKICAgICAgICAgIHRoaXMuY2hhbmdwYWkgPSByZXMuZGF0YTsKICAgICAgICAgIHRoaXMuZWRpdEZvcm0uY2hhbmdwYWltaW5nY2hlbmcgPSB0aGlzLmNoYW5ncGFpLmNoYW5ncGFpbWluZ2NoZW5nOwogICAgICAgICAgdGhpcy5lZGl0Rm9ybS56dW96aGUgPSB0aGlzLnVzZXJJbmZvLnlvbmdodW1pbmc7CiAgICAgICAgICB0aGlzLmVkaXRGb3JtLmFpZCA9IHRoaXMuZ2V0UHJvamVjdE51bSgpICsgTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwMDApOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgZ2V0UHJvamVjdE51bSgpIHsKICAgICAgY29uc3QgcHJvamVjdFRpbWUgPSBuZXcgRGF0ZSgpOyAvLyDlvZPliY3kuK3lm73moIflh4bml7bpl7QKICAgICAgY29uc3QgWWVhciA9IHByb2plY3RUaW1lLmdldEZ1bGxZZWFyKCk7IC8vIOiOt+WPluW9k+WJjeW5tOS7vSDmlK/mjIFJReWSjOeBq+eLkOa1j+iniOWZqC4KICAgICAgY29uc3QgTW9udGggPSBwcm9qZWN0VGltZS5nZXRNb250aCgpICsgMTsgLy8g6I635Y+W5Lit5Zu95Yy65pyI5Lu9CiAgICAgIGNvbnN0IERheSA9IHByb2plY3RUaW1lLmdldERhdGUoKTsgLy8g6I635Y+W5Yeg5Y+3CiAgICAgIHZhciBDdXJyZW50RGF0ZSA9IFllYXI7CiAgICAgIGlmIChNb250aCA+PSAxMCkgewogICAgICAgIC8vIOWIpOaWreaciOS7veWSjOWHoOWPt+aYr+WQpuWkp+S6jjEw5oiW6ICF5bCP5LqOMTAKICAgICAgICBDdXJyZW50RGF0ZSArPSBNb250aDsKICAgICAgfSBlbHNlIHsKICAgICAgICBDdXJyZW50RGF0ZSArPSAnMCcgKyBNb250aDsKICAgICAgfQogICAgICBpZiAoRGF5ID49IDEwKSB7CiAgICAgICAgQ3VycmVudERhdGUgKz0gRGF5OwogICAgICB9IGVsc2UgewogICAgICAgIEN1cnJlbnREYXRlICs9ICcwJyArIERheTsKICAgICAgfQogICAgICByZXR1cm4gQ3VycmVudERhdGU7CiAgICB9LAogICAgLy9xaXh1emhpaml4c3VhbjMKICAgIC8veGlhMnN1aTEKICAgIC8vIOe8lui+keOAgeWinuWKoOmhtemdouS/neWtmOaWueazlQogICAgc3VibWl0Rm9ybShlZGl0RGF0YSkgewogICAgICB0aGlzLiRyZWZzW2VkaXREYXRhXS52YWxpZGF0ZSh2YWxpZCA9PiB7CiAgICAgICAgaWYgKHZhbGlkKSB7CiAgICAgICAgICBpZiAodGhpcy5lZGl0Rm9ybS5pZCkge30gZWxzZSB7CiAgICAgICAgICAgIHlpbnBpbmdhb2ppYW5TYXZlKHRoaXMuZWRpdEZvcm0pLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgICBpZiAocmVzLmNvZGUgPT0gJzAnKSB7CiAgICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnLAogICAgICAgICAgICAgICAgICBtZXNzYWdlOiAn5re75Yqg5oiQ5Yqf77yBJwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgICAgICAgICB0eXBlOiAnaW5mbycsCiAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IHJlcy5tc2cKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSkuY2F0Y2goZXJyID0+IHsKICAgICAgICAgICAgICBpZiAoZXJyKSB7CiAgICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKGVycik7CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+aTjeS9nOWksei0pe+8jOivt+eojeWQjuWGjeivle+8gScpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGhhbmRsZVdlbmppYW5TdWNjZXNzKHJlcywgZmlsZSkgewogICAgICBpZiAocmVzLmNvZGUgPT0gIjAiKSB7CiAgICAgICAgdGhpcy5lZGl0Rm9ybS53ZW5qaWFuID0gIi9maWxlcy9kb3dubG9hZC8iICsgcmVzLmRhdGEuaWQ7CiAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICB0eXBlOiAnc3VjY2VzcycsCiAgICAgICAgICBtZXNzYWdlOiAn5paH5Lu25LiK5Lyg5oiQ5Yqf77yBJwogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgdHlwZTogJ2luZm8nLAogICAgICAgICAgbWVzc2FnZTogcmVzLm1zZwogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgZG93bmxvYWQoZGF0YSkgewogICAgICBsb2NhdGlvbi5ocmVmID0gZGF0YS53ZW5qaWFuOwogICAgfQogICAgLy95b3VzY3dleG5qaWF4bgogICAgLy94aWFiaWFvZHVhbjQKICB9Cn07"},{"version":3,"mappings":";;;;;;;;;;;;AAYA;AACA;AACA;AACA;AACA;EACAA;EACAC;IACA;MACAC;QACA;MAAA,CACA;MACAC;QACAC;QACAC;MAEA;MACAC;MACAC;MACA;IACA;EACA;;EACAC;IACA;IACA;IACA;IACA;IACA;IACA;IACA;EACA;EACAC;IACAC;MACA;QAAA;MAAA;IACA;EACA;EACAC;IACAC;MACAC;QACA;UACA;UACA;;UAGA;QAEA;MACA;IACA;IACAC;MACA;MACA;MACA;MACA;MACA;MACA;QAAA;QACAC;MACA;QACAA;MACA;MACA;QACAA;MACA;QACAA;MACA;MACA;IACA;IACA;IACA;;IAEAC;MAEA;;UAEA,uBAEA;;cAEA;gBAEA;kBACAC;kBACAC;gBACA;cACA;gBACA;kBACAD;kBACAC;gBACA;cACA;YACA;cACA;gBACA;cACA;gBACA;cACA;YACA;UACA;QACA;UACA;QACA;;IAEA;IAEAC;MACA;QACA;QACA;UACAF;UACAC;QACA;MACA,OACA;QACA;UACAD;UACAC;QACA;MACA;IACA;IACAE;MACAC;IACA;IACA","names":["name","data","rules","editForm","avater","changpaimingcheng","username","cx","created","computed","headers","methods","getUserInfo","changpaiDetail","getProjectNum","CurrentDate","submitForm","type","message","handleWenjianSuccess","download","location"],"sourceRoot":"src/views/yinpingaojian","sources":["yinpingaojian_addlbdq.vue"],"sourcesContent":["<template>\r\n\t<div class=\"personal\">\r\n\t\t<el-form label-width=\"100px\" ref=\"editForm\" :model=\"editForm\" :rules=\"rules\">\r\n\t\t\t<el-form-item  label=\"aid\" prop=\"aid\"><el-input size=\"small\" v-model=\"editForm.aid\" auto-complete=\"off\" placeholder=\"请输入aid\" style='width:50%'></el-input></el-form-item>\r\t\t<el-form-item  label=\"厂牌名称\" prop=\"changpaimingcheng\"><el-input size=\"small\" v-model=\"editForm.changpaimingcheng\" auto-complete=\"off\" placeholder=\"请输入厂牌名称\" style='width:50%' disabled></el-input></el-form-item>\r\t\t<el-form-item  label=\"作品名\" prop=\"zuopinming\"><el-input size=\"small\" v-model=\"editForm.zuopinming\" auto-complete=\"off\" placeholder=\"请输入作品名\" style='width:50%'></el-input></el-form-item>\r\t\t<el-form-item  label=\"作者\" prop=\"zuozhe\"><el-input size=\"small\" v-model=\"editForm.zuozhe\" auto-complete=\"off\" placeholder=\"请输入作者\" style='width:50%' disabled></el-input></el-form-item>\r\t\t<el-form-item  label='文件' prop='wenjian'><el-upload class='avatar-uploader' action='http://localhost:9999/files/uploadwenjian' :headers='headers' :show-file-list='false' :on-success='handleWenjianSuccess' ><el-button>上传</el-button></el-upload></el-form-item>\r\t\t<el-form-item  label=\"流派\" prop=\"liupai\"><el-input size=\"small\" v-model=\"editForm.liupai\" auto-complete=\"off\" placeholder=\"请输入流派\" style='width:50%'></el-input></el-form-item>\r\t\t<el-form-item  label=\"稿件备注\" prop=\"gaojianbeizhu\"><el-input type=\"textarea\" size=\"small\" v-model=\"editForm.gaojianbeizhu\" auto-complete=\"off\" placeholder=\"请输入稿件备注\" style='width:100%'></el-input></el-form-item>\r\t\t<el-form-item  label=\"上传时间\" prop=\"shangchuanshijian\"><el-input size=\"small\" v-model=\"editForm.shangchuanshijian\" auto-complete=\"off\" placeholder=\"请输入上传时间\" style='width:50%'></el-input></el-form-item>\r\t\t\r\n\t\t</el-form>\r\n\t\t<div slot=\"footer\" class=\"dialog-footer\">\r\n\t\t\t<el-button size=\"small\" type=\"primary\" :loading=\"loading\" class=\"title\" @click=\"submitForm('editForm')\">添加</el-button>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport {yinpingaojianEdit, yinpingaojianSave,yinpingaojianDetail} from \"@/api/yinpingaojian/yinpingaojianApi\";\r\n\timport {Session} from \"@/utils/storage\";\r\nimport {changpaiDetail,changpaiEdit} from \"../../api/changpai/changpaiApi\";\r\n//xiabiaoduan1\r\nexport default {\r\n\tname: 'personal',\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\trules: {\r\n\t\t\t\t//yztssssss1\r\n\t\t\t},\r\n\t\t\teditForm: {\r\n\t\t\t\tavater:'',\r\n\t\t\t\tchangpaimingcheng:'',\r\t\t\t\t\r\n\t\t\t},\r\n\t\t\tusername:'',\r\n\t\t\tcx:'',\r\n\t\t\t//xiabiaoduan2\r\n\t\t};\r\n\t},\r\n\tcreated() {\r\n\t\tif (!Session.get('userInfo')) return false;\r\n\t\tthis.userInfo = Session.get('userInfo');\r\n\t\tthis.username=localStorage.getItem(\"username\");\r\n\t\tthis.cx=localStorage.getItem(\"cx\");\r\n\t\tlet id = this.$route.params.id;\r\n\t\t//xiabiaoduan3\r\n\t\tthis.getUserInfo(id);\r\n\t},\r\n\tcomputed: {\r\n\t\theaders(){\r\n\t\t\treturn {\"token\":Session.get(\"token\")}\r\n\t\t},\r\n\t},\r\n\tmethods:{\r\n\t\tgetUserInfo(id){\r\n\t\t\tchangpaiDetail(id).then(res=>{\r\n\t\t\t\tif(res.code == '0'){\r\n\t\t\t\t\tthis.changpai = res.data\r\n\t\t\t\t\tthis.editForm.changpaimingcheng = this.changpai.changpaimingcheng;\r\t\t\t\t\r\n\t\t\t\t\tthis.editForm.zuozhe= this.userInfo.yonghuming;\r\n\t\t\t\t\tthis.editForm.aid = this.getProjectNum() + Math.floor(Math.random() * 10000);\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t},\r\n\t\tgetProjectNum () {\r\n\t\t\tconst projectTime = new Date() // 当前中国标准时间\r\n\t\t\tconst Year = projectTime.getFullYear() // 获取当前年份 支持IE和火狐浏览器.\r\n\t\t\tconst Month = projectTime.getMonth() + 1 // 获取中国区月份\r\n\t\t\tconst Day = projectTime.getDate() // 获取几号\r\n\t\t\tvar CurrentDate = Year\r\n\t\t\tif (Month >= 10) { // 判断月份和几号是否大于10或者小于10\r\n\t\t\t\tCurrentDate += Month\r\n\t\t\t} else {\r\n\t\t\t\tCurrentDate += '0' + Month\r\n\t\t\t}\r\n\t\t\tif (Day >= 10) {\r\n\t\t\t\tCurrentDate += Day\r\n\t\t\t} else {\r\n\t\t\t\tCurrentDate += '0' + Day\r\n\t\t\t}\r\n\t\t\treturn CurrentDate\r\n\t\t},\r\n\t\t//qixuzhijixsuan3\r\n\t\t//xia2sui1\r\n\t\t// 编辑、增加页面保存方法\r\n\t\tsubmitForm(editData) {\r\n\t\t\t\r\n\t\t\tthis.$refs[editData].validate(valid => {\r\n\t\t\t\tif (valid) {\r\n\t\t\t\t\tif(this.editForm.id){\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}else {\r\n\t\t\t\t\t\tyinpingaojianSave(this.editForm).then(res => {\r\n\t\t\t\t\t\t\tif (res.code == '0') {\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\t\t\t\ttype: 'success',\r\n\t\t\t\t\t\t\t\t\tmessage: '添加成功！'\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\t\t\t\ttype: 'info',\r\n\t\t\t\t\t\t\t\t\tmessage: res.msg\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}).catch(err => {\r\n\t\t\t\t\t\t\tif(err){\r\n\t\t\t\t\t\t\t\tthis.$message.error(err)\r\n\t\t\t\t\t\t\t}else {\r\n\t\t\t\t\t\t\t\tthis.$message.error('操作失败，请稍后再试！')\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn false\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t},\r\n\t\t\r\n\t\thandleWenjianSuccess(res, file) {\r\n\t\t\t\tif(res.code == \"0\") {\r\n\t\t\t\t\tthis.editForm.wenjian = \"/files/download/\"+res.data.id\r\n\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\ttype: 'success',\r\n\t\t\t\t\t\tmessage: '文件上传成功！'\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\ttype: 'info',\r\n\t\t\t\t\t\tmessage: res.msg\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tdownload(data){\r\n\t\t\tlocation.href = data.wenjian;\r\n\t\t},\r\t\t\t\t//youscwexnjiaxn\r\n\t\t//xiabiaoduan4\r\n\t}\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n\t@import './index.scss';\r\n</style>\r\n"]}]}