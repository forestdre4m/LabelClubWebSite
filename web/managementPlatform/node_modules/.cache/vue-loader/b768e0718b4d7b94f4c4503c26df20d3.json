{"remainingRequest":"C:\\Users\\FORRE\\Desktop\\LabelClubWebsite\\web\\managementPlatform\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\FORRE\\Desktop\\LabelClubWebsite\\web\\managementPlatform\\src\\layout\\component\\main.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\FORRE\\Desktop\\LabelClubWebsite\\web\\managementPlatform\\src\\layout\\component\\main.vue","mtime":1708837928000},{"path":"C:\\Users\\FORRE\\Desktop\\LabelClubWebsite\\web\\managementPlatform\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1619085956000},{"path":"C:\\Users\\FORRE\\Desktop\\LabelClubWebsite\\web\\managementPlatform\\node_modules\\babel-loader\\lib\\index.js","mtime":1671005778000},{"path":"C:\\Users\\FORRE\\Desktop\\LabelClubWebsite\\web\\managementPlatform\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1619085956000},{"path":"C:\\Users\\FORRE\\Desktop\\LabelClubWebsite\\web\\managementPlatform\\node_modules\\vue-loader\\lib\\index.js","mtime":1671005790000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBMYXlvdXRQYXJlbnRWaWV3IGZyb20gJ0AvbGF5b3V0L3JvdXRlclZpZXcvcGFyZW50LnZ1ZSc7CmltcG9ydCBGb290ZXJzIGZyb20gJ0AvbGF5b3V0L2Zvb3Rlci9pbmRleC52dWUnOwppbXBvcnQgTGlua3MgZnJvbSAnQC9sYXlvdXQvcm91dGVyVmlldy9saW5rLnZ1ZSc7CmltcG9ydCBJZnJhbWVzIGZyb20gJ0AvbGF5b3V0L3JvdXRlclZpZXcvaWZyYW1lcy52dWUnOwpleHBvcnQgZGVmYXVsdCB7CgluYW1lOiAnbGF5b3V0TWFpbicsCgljb21wb25lbnRzOiB7IExheW91dFBhcmVudFZpZXcsIEZvb3RlcnMsIExpbmtzLCBJZnJhbWVzIH0sCglkYXRhKCkgewoJCXJldHVybiB7CgkJCWhlYWRlckhlaWdodDogJycsCgkJCWN1cnJlbnRSb3V0ZU1ldGE6IHt9LAoJCQlpc1Nob3dMaW5rOiBmYWxzZSwKCQl9OwoJfSwKCWNvbXB1dGVkOiB7CgkJLy8g6I635Y+W5biD5bGA6YWN572u5L+h5oGvCgkJZ2V0VGhlbWVDb25maWcoKSB7CgkJCXJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS50aGVtZUNvbmZpZy50aGVtZUNvbmZpZzsKCQl9LAoJfSwKCW1vdW50ZWQoKSB7CgkJdGhpcy5pbml0SGVhZGVySGVpZ2h0KCk7CgkJdGhpcy5pbml0Q3VycmVudFJvdXRlTWV0YSh0aGlzLiRyb3V0ZS5tZXRhKTsKCX0sCgltZXRob2RzOiB7CgkJLy8g5Yid5aeL5YyW5b2T5YmN6Lev55SxIG1ldGEg5L+h5oGvCgkJaW5pdEN1cnJlbnRSb3V0ZU1ldGEobWV0YSkgewoJCQl0aGlzLmlzU2hvd0xpbmsgPSBmYWxzZTsKCQkJdGhpcy5jdXJyZW50Um91dGVNZXRhID0gbWV0YTsKCQkJc2V0VGltZW91dCgoKSA9PiB7CgkJCQl0aGlzLmlzU2hvd0xpbmsgPSB0cnVlOwoJCQl9LCAxMDApOwoJCX0sCgkJLy8g6K6+572uIG1haW4g55qE6auY5bqmCgkJaW5pdEhlYWRlckhlaWdodCgpIHsKCQkJbGV0IHsgaXNUYWdzdmlldyB9ID0gdGhpcy4kc3RvcmUuc3RhdGUudGhlbWVDb25maWcudGhlbWVDb25maWc7CgkJCWlmIChpc1RhZ3N2aWV3KSByZXR1cm4gKHRoaXMuaGVhZGVySGVpZ2h0ID0gYDg0cHhgKTsKCQkJZWxzZSByZXR1cm4gKHRoaXMuaGVhZGVySGVpZ2h0ID0gYDUwcHhgKTsKCQl9LAoJCS8vIOWtkOe7hOS7tuinpuWPkeabtOaWsAoJCW9uR2V0Q3VycmVudFJvdXRlTWV0YSgpIHsKCQkJdGhpcy5pbml0Q3VycmVudFJvdXRlTWV0YSh0aGlzLiRyb3V0ZS5tZXRhKTsKCQl9LAoJfSwKCXdhdGNoOiB7CgkJLy8g55uR5ZCsIHZ1ZXgg5pWw5o2u5Y+Y5YyWCgkJJyRzdG9yZS5zdGF0ZS50aGVtZUNvbmZpZy50aGVtZUNvbmZpZyc6IHsKCQkJaGFuZGxlcih2YWwpIHsKCQkJCXRoaXMuaGVhZGVySGVpZ2h0ID0gdmFsLmlzVGFnc3ZpZXcgPyAnODRweCcgOiAnNTBweCc7CgkJCQlpZiAodmFsLmlzRml4ZWRIZWFkZXJDaGFuZ2UgIT09IHZhbC5pc0ZpeGVkSGVhZGVyKSB7CgkJCQkJaWYgKCF0aGlzLiRyZWZzLmxheW91dFNjcm9sbGJhclJlZikgcmV0dXJuIGZhbHNlOwoJCQkJCXRoaXMuJHJlZnMubGF5b3V0U2Nyb2xsYmFyUmVmLnVwZGF0ZSgpOwoJCQkJfQoJCQl9LAoJCQlkZWVwOiB0cnVlLAoJCX0sCgkJLy8g55uR5ZCs6Lev55Sx55qE5Y+Y5YyWCgkJJHJvdXRlOiB7CgkJCWhhbmRsZXIodG8pIHsKCQkJCXRoaXMuaW5pdEN1cnJlbnRSb3V0ZU1ldGEodG8ubWV0YSk7CgkJCQl0aGlzLiRyZWZzLmxheW91dFNjcm9sbGJhclJlZi53cmFwLnNjcm9sbFRvcCA9IDA7CgkJCX0sCgkJCWRlZXA6IHRydWUsCgkJfSwKCX0sCn07Cg=="},{"version":3,"sources":["main.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AA0BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"main.vue","sourceRoot":"src/layout/component","sourcesContent":["<template>\n\t<el-main class=\"layout-main\">\n\t\t<el-scrollbar\n\t\t\tclass=\"layout-scrollbar\"\n\t\t\tref=\"layoutScrollbarRef\"\n\t\t\tv-show=\"!currentRouteMeta.isLink && !currentRouteMeta.isIframe\"\n\t\t\t:style=\"{ minHeight: `calc(100vh - ${headerHeight}` }\"\n\t\t>\n\t\t\t<LayoutParentView />\n\t\t\t<Footers v-if=\"getThemeConfig.isFooter\" />\n\t\t</el-scrollbar>\n\t\t<Links\n\t\t\t:style=\"{ height: `calc(100vh - ${headerHeight}` }\"\n\t\t\t:meta=\"currentRouteMeta\"\n\t\t\tv-if=\"currentRouteMeta.isLink && !currentRouteMeta.isIframe\"\n\t\t/>\n\t\t<Iframes\n\t\t\t:style=\"{ height: `calc(100vh - ${headerHeight}` }\"\n\t\t\t:meta=\"currentRouteMeta\"\n\t\t\tv-if=\"currentRouteMeta.isLink && currentRouteMeta.isIframe && isShowLink\"\n\t\t\t@getCurrentRouteMeta=\"onGetCurrentRouteMeta\"\n\t\t/>\n\t</el-main>\n</template>\n\n<script>\nimport LayoutParentView from '@/layout/routerView/parent.vue';\nimport Footers from '@/layout/footer/index.vue';\nimport Links from '@/layout/routerView/link.vue';\nimport Iframes from '@/layout/routerView/iframes.vue';\nexport default {\n\tname: 'layoutMain',\n\tcomponents: { LayoutParentView, Footers, Links, Iframes },\n\tdata() {\n\t\treturn {\n\t\t\theaderHeight: '',\n\t\t\tcurrentRouteMeta: {},\n\t\t\tisShowLink: false,\n\t\t};\n\t},\n\tcomputed: {\n\t\t// 获取布局配置信息\n\t\tgetThemeConfig() {\n\t\t\treturn this.$store.state.themeConfig.themeConfig;\n\t\t},\n\t},\n\tmounted() {\n\t\tthis.initHeaderHeight();\n\t\tthis.initCurrentRouteMeta(this.$route.meta);\n\t},\n\tmethods: {\n\t\t// 初始化当前路由 meta 信息\n\t\tinitCurrentRouteMeta(meta) {\n\t\t\tthis.isShowLink = false;\n\t\t\tthis.currentRouteMeta = meta;\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.isShowLink = true;\n\t\t\t}, 100);\n\t\t},\n\t\t// 设置 main 的高度\n\t\tinitHeaderHeight() {\n\t\t\tlet { isTagsview } = this.$store.state.themeConfig.themeConfig;\n\t\t\tif (isTagsview) return (this.headerHeight = `84px`);\n\t\t\telse return (this.headerHeight = `50px`);\n\t\t},\n\t\t// 子组件触发更新\n\t\tonGetCurrentRouteMeta() {\n\t\t\tthis.initCurrentRouteMeta(this.$route.meta);\n\t\t},\n\t},\n\twatch: {\n\t\t// 监听 vuex 数据变化\n\t\t'$store.state.themeConfig.themeConfig': {\n\t\t\thandler(val) {\n\t\t\t\tthis.headerHeight = val.isTagsview ? '84px' : '50px';\n\t\t\t\tif (val.isFixedHeaderChange !== val.isFixedHeader) {\n\t\t\t\t\tif (!this.$refs.layoutScrollbarRef) return false;\n\t\t\t\t\tthis.$refs.layoutScrollbarRef.update();\n\t\t\t\t}\n\t\t\t},\n\t\t\tdeep: true,\n\t\t},\n\t\t// 监听路由的变化\n\t\t$route: {\n\t\t\thandler(to) {\n\t\t\t\tthis.initCurrentRouteMeta(to.meta);\n\t\t\t\tthis.$refs.layoutScrollbarRef.wrap.scrollTop = 0;\n\t\t\t},\n\t\t\tdeep: true,\n\t\t},\n\t},\n};\n</script>\n"]}]}