{"remainingRequest":"C:\\Users\\FORRE\\Desktop\\LabelClubWebsite\\web\\managementPlatform\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\FORRE\\Desktop\\LabelClubWebsite\\web\\managementPlatform\\src\\layout\\navBars\\tagsView\\contextmenu.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\FORRE\\Desktop\\LabelClubWebsite\\web\\managementPlatform\\src\\layout\\navBars\\tagsView\\contextmenu.vue","mtime":1708837928000},{"path":"C:\\Users\\FORRE\\Desktop\\LabelClubWebsite\\web\\managementPlatform\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1619085956000},{"path":"C:\\Users\\FORRE\\Desktop\\LabelClubWebsite\\web\\managementPlatform\\node_modules\\babel-loader\\lib\\index.js","mtime":1671005778000},{"path":"C:\\Users\\FORRE\\Desktop\\LabelClubWebsite\\web\\managementPlatform\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1619085956000},{"path":"C:\\Users\\FORRE\\Desktop\\LabelClubWebsite\\web\\managementPlatform\\node_modules\\vue-loader\\lib\\index.js","mtime":1671005790000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKCW5hbWU6ICdsYXlvdXRUYWdzVmlld0NvbnRleHRtZW51JywKCXByb3BzOiB7CgkJZHJvcGRvd246IHsKCQkJdHlwZTogT2JqZWN0LAoJCX0sCgl9LAoJZGF0YSgpIHsKCQlyZXR1cm4gewoJCQlpc1Nob3c6IGZhbHNlLAoJCQlkcm9wZG93bkxpc3Q6IFsKCQkJCXsgaWQ6IDAsIHR4dDogJ21lc3NhZ2UudGFnc1ZpZXcucmVmcmVzaCcsIGFmZml4OiBmYWxzZSwgaWNvbjogJ2VsLWljb24tcmVmcmVzaC1yaWdodCcgfSwKCQkJCXsgaWQ6IDEsIHR4dDogJ21lc3NhZ2UudGFnc1ZpZXcuY2xvc2UnLCBhZmZpeDogZmFsc2UsIGljb246ICdlbC1pY29uLWNsb3NlJyB9LAoJCQkJeyBpZDogMiwgdHh0OiAnbWVzc2FnZS50YWdzVmlldy5jbG9zZU90aGVyJywgYWZmaXg6IGZhbHNlLCBpY29uOiAnZWwtaWNvbi1jaXJjbGUtY2xvc2UnIH0sCgkJCQl7IGlkOiAzLCB0eHQ6ICdtZXNzYWdlLnRhZ3NWaWV3LmNsb3NlQWxsJywgYWZmaXg6IGZhbHNlLCBpY29uOiAnZWwtaWNvbi1mb2xkZXItZGVsZXRlJyB9LAoJCQldLAoJCQlwYXRoOiB7fSwKCQkJYXJyb3dMZWZ0OiA1LAoJCX07Cgl9LAoJY29tcHV0ZWQ6IHsKCQlkcm9wZG93bnMoKSB7CgkJCS8vIDk5IOS4uiBgRHJvcGRvd24g5LiL5ouJ6I+c5Y2VYCDnmoTlrr3luqYKCQkJaWYgKHRoaXMuZHJvcGRvd24ueCArIDk5ID4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoKSB7CgkJCQlyZXR1cm4gewoJCQkJCXg6IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCAtIDk5IC0gNSwKCQkJCQl5OiB0aGlzLmRyb3Bkb3duLnksCgkJCQl9OwoJCQl9IGVsc2UgewoJCQkJcmV0dXJuIHRoaXMuZHJvcGRvd247CgkJCX0KCQl9LAoJfSwKCW1vdW50ZWQoKSB7CgkJLy8g55uR5ZCs6aG16Z2i55uR5ZCs6L+b6KGM5Y+z6ZSu6I+c5Y2V55qE5YWz6ZetCgkJZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuY2xvc2VDb250ZXh0bWVudSk7Cgl9LAoJbWV0aG9kczogewoJCS8vIOW9k+WJjemhueiPnOWNleeCueWHuwoJCW9uQ3VycmVudENvbnRleHRtZW51Q2xpY2soaWQpIHsKCQkJdGhpcy4kZW1pdCgnY3VycmVudENvbnRleHRtZW51Q2xpY2snLCB7IGlkLCBwYXRoOiB0aGlzLnBhdGggfSk7CgkJfSwKCQkvLyDmiZPlvIDlj7PplK7oj5zljZXvvJrliKTmlq3mmK/lkKblm7rlrprvvIzlm7rlrprliJnkuI3mmL7npLrlhbPpl63mjInpkq4KCQlvcGVuQ29udGV4dG1lbnUoaXRlbSkgewoJCQl0aGlzLnBhdGggPSBpdGVtLnBhdGg7CgkJCWl0ZW0ubWV0YS5pc0FmZml4ID8gKHRoaXMuZHJvcGRvd25MaXN0WzFdLmFmZml4ID0gdHJ1ZSkgOiAodGhpcy5kcm9wZG93bkxpc3RbMV0uYWZmaXggPSBmYWxzZSk7CgkJCXRoaXMuY2xvc2VDb250ZXh0bWVudSgpOwoJCQlzZXRUaW1lb3V0KCgpID0+IHsKCQkJCXRoaXMuaXNTaG93ID0gdHJ1ZTsKCQkJfSwgODApOwoJCX0sCgkJLy8g5YWz6Zet5Y+z6ZSu6I+c5Y2VCgkJY2xvc2VDb250ZXh0bWVudSgpIHsKCQkJdGhpcy5pc1Nob3cgPSBmYWxzZTsKCQl9LAoJfSwKCWRlc3Ryb3llZCgpIHsKCQkvLyDpobXpnaLljbjovb3ml7bvvIznp7vpmaTlj7PplK7oj5zljZXnm5HlkKzkuovku7YKCQlkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5jbG9zZUNvbnRleHRtZW51KTsKCX0sCgkvLyDnm5HlkKzkuIvmi4noj5zljZXkvY3nva4KCXdhdGNoOiB7CgkJZHJvcGRvd246IHsKCQkJaGFuZGxlcih7IHggfSkgewoJCQkJaWYgKHggKyA5OSA+IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCkgdGhpcy5hcnJvd0xlZnQgPSA5OSAtIChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGggLSB4KTsKCQkJCWVsc2UgdGhpcy5hcnJvd0xlZnQgPSAxMDsKCQkJfSwKCQkJZGVlcDogdHJ1ZSwKCQl9LAoJfSwKfTsK"},{"version":3,"sources":["contextmenu.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAuBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"contextmenu.vue","sourceRoot":"src/layout/navBars/tagsView","sourcesContent":["<template>\n\t<div>\n\t\t<transition name=\"el-zoom-in-center\">\n\t\t\t<ul\n\t\t\t\tclass=\"el-dropdown-menu el-popper el-dropdown-menu--medium custom-contextmenu\"\n\t\t\t\t:style=\"`top: ${dropdowns.y}px;left: ${dropdowns.x}px;`\"\n\t\t\t\tx-placement=\"bottom-end\"\n\t\t\t\tid=\"contextmenu\"\n\t\t\t\tv-show=\"isShow\"\n\t\t\t>\n\t\t\t\t<li class=\"el-dropdown-menu__item\" v-for=\"(v, k) in dropdownList\" :key=\"k\" @click=\"onCurrentContextmenuClick(v.id)\">\n\t\t\t\t\t<template v-if=\"!v.affix\">\n\t\t\t\t\t\t<i :class=\"v.icon\"></i>\n\t\t\t\t\t\t<span>{{ $t(v.txt) }}</span>\n\t\t\t\t\t</template>\n\t\t\t\t</li>\n\t\t\t\t<div x-arrow class=\"popper__arrow\" :style=\"{ left: `${arrowLeft}px` }\"></div>\n\t\t\t</ul>\n\t\t</transition>\n\t</div>\n</template>\n\n<script>\nexport default {\n\tname: 'layoutTagsViewContextmenu',\n\tprops: {\n\t\tdropdown: {\n\t\t\ttype: Object,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tisShow: false,\n\t\t\tdropdownList: [\n\t\t\t\t{ id: 0, txt: 'message.tagsView.refresh', affix: false, icon: 'el-icon-refresh-right' },\n\t\t\t\t{ id: 1, txt: 'message.tagsView.close', affix: false, icon: 'el-icon-close' },\n\t\t\t\t{ id: 2, txt: 'message.tagsView.closeOther', affix: false, icon: 'el-icon-circle-close' },\n\t\t\t\t{ id: 3, txt: 'message.tagsView.closeAll', affix: false, icon: 'el-icon-folder-delete' },\n\t\t\t],\n\t\t\tpath: {},\n\t\t\tarrowLeft: 5,\n\t\t};\n\t},\n\tcomputed: {\n\t\tdropdowns() {\n\t\t\t// 99 为 `Dropdown 下拉菜单` 的宽度\n\t\t\tif (this.dropdown.x + 99 > document.documentElement.clientWidth) {\n\t\t\t\treturn {\n\t\t\t\t\tx: document.documentElement.clientWidth - 99 - 5,\n\t\t\t\t\ty: this.dropdown.y,\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\treturn this.dropdown;\n\t\t\t}\n\t\t},\n\t},\n\tmounted() {\n\t\t// 监听页面监听进行右键菜单的关闭\n\t\tdocument.body.addEventListener('click', this.closeContextmenu);\n\t},\n\tmethods: {\n\t\t// 当前项菜单点击\n\t\tonCurrentContextmenuClick(id) {\n\t\t\tthis.$emit('currentContextmenuClick', { id, path: this.path });\n\t\t},\n\t\t// 打开右键菜单：判断是否固定，固定则不显示关闭按钮\n\t\topenContextmenu(item) {\n\t\t\tthis.path = item.path;\n\t\t\titem.meta.isAffix ? (this.dropdownList[1].affix = true) : (this.dropdownList[1].affix = false);\n\t\t\tthis.closeContextmenu();\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.isShow = true;\n\t\t\t}, 80);\n\t\t},\n\t\t// 关闭右键菜单\n\t\tcloseContextmenu() {\n\t\t\tthis.isShow = false;\n\t\t},\n\t},\n\tdestroyed() {\n\t\t// 页面卸载时，移除右键菜单监听事件\n\t\tdocument.body.removeEventListener('click', this.closeContextmenu);\n\t},\n\t// 监听下拉菜单位置\n\twatch: {\n\t\tdropdown: {\n\t\t\thandler({ x }) {\n\t\t\t\tif (x + 99 > document.documentElement.clientWidth) this.arrowLeft = 99 - (document.documentElement.clientWidth - x);\n\t\t\t\telse this.arrowLeft = 10;\n\t\t\t},\n\t\t\tdeep: true,\n\t\t},\n\t},\n};\n</script>\n\n<style scoped lang=\"scss\">\n.custom-contextmenu {\n\ttransform-origin: center top;\n\tz-index: 2190;\n\tposition: fixed;\n\t.el-dropdown-menu__item {\n\t\tfont-size: 12px !important;\n\t\twhite-space: nowrap;\n\t\ti {\n\t\t\tfont-size: 12px !important;\n\t\t}\n\t}\n}\n</style>\n"]}]}