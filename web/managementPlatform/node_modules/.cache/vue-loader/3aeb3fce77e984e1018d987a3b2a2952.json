{"remainingRequest":"C:\\Users\\FORRE\\Desktop\\LabelClubWebsite\\web\\managementPlatform\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\FORRE\\Desktop\\LabelClubWebsite\\web\\managementPlatform\\src\\views\\resetPass\\index.vue?vue&type=style&index=0&id=75f9fb59&scoped=true&lang=scss&","dependencies":[{"path":"C:\\Users\\FORRE\\Desktop\\LabelClubWebsite\\web\\managementPlatform\\src\\views\\resetPass\\index.vue","mtime":1708837930000},{"path":"C:\\Users\\FORRE\\Desktop\\LabelClubWebsite\\web\\managementPlatform\\node_modules\\css-loader\\dist\\cjs.js","mtime":1603358448000},{"path":"C:\\Users\\FORRE\\Desktop\\LabelClubWebsite\\web\\managementPlatform\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1671005790000},{"path":"C:\\Users\\FORRE\\Desktop\\LabelClubWebsite\\web\\managementPlatform\\node_modules\\postcss-loader\\src\\index.js","mtime":1603345542000},{"path":"C:\\Users\\FORRE\\Desktop\\LabelClubWebsite\\web\\managementPlatform\\node_modules\\sass-loader\\dist\\cjs.js","mtime":1614165654000},{"path":"C:\\Users\\FORRE\\Desktop\\LabelClubWebsite\\web\\managementPlatform\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1619085956000},{"path":"C:\\Users\\FORRE\\Desktop\\LabelClubWebsite\\web\\managementPlatform\\node_modules\\vue-loader\\lib\\index.js","mtime":1671005790000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKQGltcG9ydCAnLi9pbmRleC5zY3NzJzsK"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoIA","file":"index.vue","sourceRoot":"src/views/resetPass","sourcesContent":["<template>\r\n\t<div>\r\n\t\t\t<el-form label-width=\"120px\" :model=\"editForm\" :rules=\"rules\" ref=\"editForm\">\r\n\t\t\t\t<el-form-item label=\"原密码\" prop=\"password\">\r\n\t\t\t\t\t<el-input size=\"small\" v-model=\"editForm.password\" show-password auto-complete=\"off\" placeholder=\"请输入原密码\"></el-input>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item label=\"新密码\" prop=\"newPassword\">\r\n\t\t\t\t\t<el-input size=\"small\" v-model=\"editForm.newPassword\" show-password auto-complete=\"off\" placeholder=\"请输入新密码\"></el-input>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item label=\"新密码重复\" prop=\"newPassword2\">\r\n\t\t\t\t\t<el-input size=\"small\" v-model=\"editForm.newPassword2\" show-password auto-complete=\"off\" placeholder=\"请重复新密码\"></el-input>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t</el-form>\r\n\t\t\t<div slot=\"footer\" class=\"dialog-footer\">\r\n\t\t\t\t<el-button size=\"small\" type=\"primary\" :loading=\"loading\" class=\"title\" @click=\"submitForm('editForm')\">修改</el-button>\r\n\t\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport Pagination from \"@/layout/pagination/Pagination\";\r\n\timport {Session} from \"@/utils/storage\";\r\n\timport {changpaiUpdatePassword} from \"@/api/changpai/changpaiApi\";\r\timport {yinlerenUpdatePassword} from \"@/api/yinleren/yinlerenApi\";\r\t\r\n\timport {guanliyuanUpdatePassword} from \"@/api/guanliyuan/guanliyuanApi\";\r\n\texport default {\r\n\t\tname: 'user',\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tloading: false, //是显示加载\r\n\t\t\t\ttitle: '',\r\n\t\t\t\teditFormVisible: false, //控制编辑页面显示与隐藏\r\n\t\t\t\teditForm: {\r\n\t\t\t\t},\r\n\t\t\t\tuser:[],\r\n\t\t\t\t// rules表单验证\r\n\t\t\t\trules: {\r\n\t\t\t\t\tpassword: [\r\n\t\t\t\t\t\t{ required: true, message: '请输入原密码', trigger: 'blur' }\r\n\t\t\t\t\t],\r\n\t\t\t\t\tnewPassword: [\r\n\t\t\t\t\t\t{ required: true, message: '请输入新密码', trigger: 'blur' }\r\n\t\t\t\t\t],\r\n\t\t\t\t\tnewPassword2: [\r\n\t\t\t\t\t\t{ required: true, message: '请输入新密码', trigger: 'blur' }\r\n\t\t\t\t\t],\r\n\t\t\t\t},\r\n\t\t\t\t// 请求数据参数\r\n\t\t\t\tformInline: {\r\n\t\t\t\t\tpage: 1,\r\n\t\t\t\t\tlimit: 10,\r\n\t\t\t\t},\r\n\t\t\t\tlistData: [],\r\n\r\n\t\t\t\t// 选中\r\n\t\t\t\tcheckmenu: [],\r\n\t\t\t\t// 分页参数\r\n\t\t\t\tpageparm: {\r\n\t\t\t\t\tcurrentPage: 1,\r\n\t\t\t\t\tpageSize: 10,\r\n\t\t\t\t\ttotal: 0\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t// 编辑、增加页面保存方法\r\n\t\t\tsubmitForm: function (editData) {\r\n\t\t\t\tthis.$refs[editData].validate(valid => {\r\n\t\t\t\t\tif (valid) {\r\n\t\t\t\t\t\tif (this.editForm.newPassword === this.editForm.newPassword2) {\r\n\t\t\t\t\t\t\tthis.userInfo = Session.get('userInfo');\r\n\t\t\t\t\t\t\tthis.editForm.id = this.userInfo.id;\r\n\t\t\t\t\t\t\tif (this.userInfo.roles[0] == 'guanliyuan') {\r\n\t\t\t\t\t\t\t\tguanliyuanUpdatePassword(this.editForm).then(res => {\r\n\t\t\t\t\t\t\t\t\tif (res.code == \"0\") {\r\n\t\t\t\t\t\t\t\t\t\tthis.$message.success('修改成功，为了安全，系统将自动清空session，请您重新登陆')\r\n\t\t\t\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\t\t\t\tSession.clear();\r\n\t\t\t\t\t\t\t\t\t\t\t// 使用 reload 时，不需要调用 resetRoute() 重置路由\r\n\t\t\t\t\t\t\t\t\t\t\twindow.location.reload();\r\n\t\t\t\t\t\t\t\t\t\t}, 2000);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}).catch(err => {\r\n\t\t\t\t\t\t\t\t\tthis.loading = false\r\n\t\t\t\t\t\t\t\t\tthis.$message.error(err)\r\n\t\t\t\t\t\t\t\t})\r\n\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse if (this.userInfo.roles[0] == 'changpai') {\r\n\t\t\t\t\t\t\t\tchangpaiUpdatePassword(this.editForm).then(res => {\r\n\t\t\t\t\t\t\t\t\tif (res.code == \"0\") {\r\n\t\t\t\t\t\t\t\t\t\tthis.$message.success('修改成功，为了安全，系统将自动清空session，请您重新登陆')\r\n\t\t\t\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\t\t\t\tSession.clear();\r\n\t\t\t\t\t\t\t\t\t\t\twindow.location.reload();\r\n\t\t\t\t\t\t\t\t\t\t}, 2000);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}).catch(err => {\r\n\t\t\t\t\t\t\t\t\tthis.loading = false\r\n\t\t\t\t\t\t\t\t\tthis.$message.error(err)\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\relse if (this.userInfo.roles[0] == 'yinleren') {\r\n\t\t\t\t\t\t\t\tyinlerenUpdatePassword(this.editForm).then(res => {\r\n\t\t\t\t\t\t\t\t\tif (res.code == \"0\") {\r\n\t\t\t\t\t\t\t\t\t\tthis.$message.success('修改成功，为了安全，系统将自动清空session，请您重新登陆')\r\n\t\t\t\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\t\t\t\tSession.clear();\r\n\t\t\t\t\t\t\t\t\t\t\twindow.location.reload();\r\n\t\t\t\t\t\t\t\t\t\t}, 2000);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}).catch(err => {\r\n\t\t\t\t\t\t\t\t\tthis.loading = false\r\n\t\t\t\t\t\t\t\t\tthis.$message.error(err)\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\t\t\ttype: 'error',\r\n\t\t\t\t\t\t\t\tmessage: '两次密码输入不一致'\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn false\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t}\r\n\t};\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n\t@import './index.scss';\r\n</style>\r\n"]}]}