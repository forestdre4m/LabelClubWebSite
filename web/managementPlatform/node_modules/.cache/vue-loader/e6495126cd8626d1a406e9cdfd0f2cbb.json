{"remainingRequest":"C:\\Users\\FORRE\\Desktop\\LabelClubWebsite\\web\\managementPlatform\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\FORRE\\Desktop\\LabelClubWebsite\\web\\managementPlatform\\src\\layout\\component\\columnsAside.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\FORRE\\Desktop\\LabelClubWebsite\\web\\managementPlatform\\src\\layout\\component\\columnsAside.vue","mtime":1708837928000},{"path":"C:\\Users\\FORRE\\Desktop\\LabelClubWebsite\\web\\managementPlatform\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1619085956000},{"path":"C:\\Users\\FORRE\\Desktop\\LabelClubWebsite\\web\\managementPlatform\\node_modules\\babel-loader\\lib\\index.js","mtime":1671005778000},{"path":"C:\\Users\\FORRE\\Desktop\\LabelClubWebsite\\web\\managementPlatform\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1619085956000},{"path":"C:\\Users\\FORRE\\Desktop\\LabelClubWebsite\\web\\managementPlatform\\node_modules\\vue-loader\\lib\\index.js","mtime":1671005790000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKCW5hbWU6ICdsYXlvdXRDb2x1bW5zQXNpZGUnLAoJZGF0YSgpIHsKCQlyZXR1cm4gewoJCQljb2x1bW5zQXNpZGVMaXN0OiBbXSwKCQkJbGlJbmRleDogMCwKCQkJZGlmZmVyZW5jZTogMCwKCQkJcm91dGVTcGxpdDogW10sCgkJfTsKCX0sCgljb21wdXRlZDogewoJCS8vIOiuvue9ruWIhuagj+mrmOS6rumjjuagvAoJCXNldENvbHVtbnNBc2lkZVN0eWxlKCkgewoJCQlyZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUudGhlbWVDb25maWcudGhlbWVDb25maWcuY29sdW1uc0FzaWRlU3R5bGU7CgkJfSwKCQkvLyDorr7nva7liIbmoI/luIPlsYDpo47moLwKCQlzZXRDb2x1bW5zQXNpZGVsYXlvdXQoKSB7CgkJCXJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS50aGVtZUNvbmZpZy50aGVtZUNvbmZpZy5jb2x1bW5zQXNpZGVMYXlvdXQ7CgkJfSwKCX0sCgltb3VudGVkKCkgewoJCXRoaXMuc2V0RmlsdGVyUm91dGVzKCk7Cgl9LAoJbWV0aG9kczogewoJCS8vIOiuvue9ruiPnOWNlemrmOS6ruS9jee9ruenu+WKqAoJCXNldENvbHVtbnNBc2lkZU1vdmUoaykgewoJCQljb25zdCBlbHMgPSB0aGlzLiRyZWZzLmNvbHVtbnNBc2lkZU9mZnNldFRvcFJlZnM7CgkJCXRoaXMubGlJbmRleCA9IGs7CgkJCXRoaXMuJHJlZnMuY29sdW1uc0FzaWRlQWN0aXZlUmVmLnN0eWxlLnRvcCA9IGAke2Vsc1trXS5vZmZzZXRUb3AgKyB0aGlzLmRpZmZlcmVuY2V9cHhgOwoJCX0sCgkJLy8g6I+c5Y2V6auY5Lqu54K55Ye75LqL5Lu2CgkJb25Db2x1bW5zQXNpZGVNZW51Q2xpY2sodiwgaykgewoJCQl0aGlzLnNldENvbHVtbnNBc2lkZU1vdmUoayk7CgkJCWxldCB7IHBhdGgsIHJlZGlyZWN0IH0gPSB2OwoJCQlpZiAocmVkaXJlY3QpIHRoaXMuJHJvdXRlci5wdXNoKHJlZGlyZWN0KTsKCQkJZWxzZSB0aGlzLiRyb3V0ZXIucHVzaChwYXRoKTsKCQl9LAoJCS8vIOiuvue9rumrmOS6ruWKqOaAgeS9jee9rgoJCW9uQ29sdW1uc0FzaWRlRG93bihrKSB7CgkJCXRoaXMuJG5leHRUaWNrKCgpID0+IHsKCQkJCXRoaXMuc2V0Q29sdW1uc0FzaWRlTW92ZShrKTsKCQkJfSk7CgkJfSwKCQkvLyDorr7nva4v6L+H5ruk6Lev55Sx77yI6Z2e6Z2Z5oCB6Lev55SxL+aYr+WQpuaYvuekuuWcqOiPnOWNleS4re+8iQoJCXNldEZpbHRlclJvdXRlcygpIHsKCQkJaWYgKHRoaXMuJHN0b3JlLnN0YXRlLnJvdXRlc0xpc3Qucm91dGVzTGlzdC5sZW5ndGggPD0gMCkgcmV0dXJuIGZhbHNlOwoJCQl0aGlzLmNvbHVtbnNBc2lkZUxpc3QgPSB0aGlzLmZpbHRlclJvdXRlc0Z1bih0aGlzLiRzdG9yZS5zdGF0ZS5yb3V0ZXNMaXN0LnJvdXRlc0xpc3QpOwoJCQljb25zdCByZXNEYXRhID0gdGhpcy5zZXRTZW5kQ2hpbGRyZW4odGhpcy4kcm91dGUucGF0aCk7CgkJCWlmIChPYmplY3Qua2V5cyhyZXNEYXRhKS5sZW5ndGggPD0gMCkgcmV0dXJuIGZhbHNlOwoJCQl0aGlzLm9uQ29sdW1uc0FzaWRlRG93bihyZXNEYXRhLml0ZW1bMF0uayk7CgkJCXRoaXMuYnVzLiRlbWl0KCdzZXRTZW5kQ29sdW1uc0NoaWxkcmVuJywgcmVzRGF0YSk7CgkJfSwKCQkvLyDkvKDpgIHlvZPliY3lrZDnuqfmlbDmja7liLDoj5zljZXkuK0KCQlzZXRTZW5kQ2hpbGRyZW4ocGF0aCkgewoJCQljb25zdCBjdXJyZW50UGF0aFNwbGl0ID0gcGF0aC5zcGxpdCgnLycpOwoJCQlsZXQgY3VycmVudERhdGEgPSB7fTsKCQkJdGhpcy5jb2x1bW5zQXNpZGVMaXN0Lm1hcCgodiwgaykgPT4gewoJCQkJaWYgKHYucGF0aCA9PT0gYC8ke2N1cnJlbnRQYXRoU3BsaXRbMV19YCkgewoJCQkJCXZbJ2snXSA9IGs7CgkJCQkJY3VycmVudERhdGFbJ2l0ZW0nXSA9IFt7IC4uLnYgfV07CgkJCQkJY3VycmVudERhdGFbJ2NoaWxkcmVuJ10gPSBbeyAuLi52IH1dOwoJCQkJCWlmICh2LmNoaWxkcmVuKSBjdXJyZW50RGF0YVsnY2hpbGRyZW4nXSA9IHYuY2hpbGRyZW47CgkJCQl9CgkJCX0pOwoJCQlyZXR1cm4gY3VycmVudERhdGE7CgkJfSwKCQkvLyDot6/nlLHov4fmu6TpgJLlvZLlh73mlbAKCQlmaWx0ZXJSb3V0ZXNGdW4oYXJyKSB7CgkJCXJldHVybiBhcnIKCQkJCS5maWx0ZXIoKGl0ZW0pID0+ICFpdGVtLm1ldGEuaXNIaWRlKQoJCQkJLm1hcCgoaXRlbSkgPT4gewoJCQkJCWl0ZW0gPSBPYmplY3QuYXNzaWduKHt9LCBpdGVtKTsKCQkJCQlpZiAoaXRlbS5jaGlsZHJlbikgaXRlbS5jaGlsZHJlbiA9IHRoaXMuZmlsdGVyUm91dGVzRnVuKGl0ZW0uY2hpbGRyZW4pOwoJCQkJCXJldHVybiBpdGVtOwoJCQkJfSk7CgkJfSwKCQkvLyB0YWdzVmlldyDngrnlh7vml7bvvIzmoLnmja7ot6/nlLHmn6Xmib7kuIvmoIcgY29sdW1uc0FzaWRlTGlzdO+8jOWunueOsOW3puS+p+iPnOWNlemrmOS6rgoJCXNldENvbHVtbnNNZW51SGlnaGxpZ2h0KHBhdGgpIHsKCQkJdGhpcy5yb3V0ZVNwbGl0ID0gcGF0aC5zcGxpdCgnLycpOwoJCQl0aGlzLnJvdXRlU3BsaXQuc2hpZnQoKTsKCQkJY29uc3Qgcm91dGVGaXJzdCA9IGAvJHt0aGlzLnJvdXRlU3BsaXRbMF19YDsKCQkJY29uc3QgY3VycmVudFNwbGl0Um91dGUgPSB0aGlzLmNvbHVtbnNBc2lkZUxpc3QuZmluZCgodikgPT4gdi5wYXRoID09PSByb3V0ZUZpcnN0KTsKCQkJaWYgKCFjdXJyZW50U3BsaXRSb3V0ZSkgcmV0dXJuIGZhbHNlOwoJCQkvLyDlu7bov5/mi7/lgLzvvIzpmLLmraLlj5bkuI3liLAKCQkJc2V0VGltZW91dCgoKSA9PiB7CgkJCQl0aGlzLm9uQ29sdW1uc0FzaWRlRG93bihjdXJyZW50U3BsaXRSb3V0ZS5rKTsKCQkJfSwgMCk7CgkJfSwKCX0sCgl3YXRjaDogewoJCS8vIOebkeWQrCB2dWV4IOaVsOaNruWPmOWMlgoJCSckc3RvcmUuc3RhdGUnOiB7CgkJCWhhbmRsZXIodmFsKSB7CgkJCQl2YWwudGhlbWVDb25maWcudGhlbWVDb25maWcuY29sdW1uc0FzaWRlU3R5bGUgPT09ICdjb2x1bW5zUm91bmQnID8gKHRoaXMuZGlmZmVyZW5jZSA9IDMpIDogKHRoaXMuZGlmZmVyZW5jZSA9IDApOwoJCQkJaWYgKHZhbC5yb3V0ZXNMaXN0LnJvdXRlc0xpc3QubGVuZ3RoID09PSB0aGlzLmNvbHVtbnNBc2lkZUxpc3QubGVuZ3RoKSByZXR1cm4gZmFsc2U7CgkJCQl0aGlzLnNldEZpbHRlclJvdXRlcygpOwoJCQl9LAoJCQlkZWVwOiB0cnVlLAoJCX0sCgkJLy8g55uR5ZCs6Lev55Sx55qE5Y+Y5YyWCgkJJHJvdXRlOiB7CgkJCWhhbmRsZXIodG8pIHsKCQkJCXRoaXMuc2V0Q29sdW1uc01lbnVIaWdobGlnaHQodG8ucGF0aCk7CgkJCQl0aGlzLmJ1cy4kZW1pdCgnc2V0U2VuZENvbHVtbnNDaGlsZHJlbicsIHRoaXMuc2V0U2VuZENoaWxkcmVuKHRvLnBhdGgpKTsKCQkJfSwKCQkJZGVlcDogdHJ1ZSwKCQl9LAoJfSwKfTsK"},{"version":3,"sources":["columnsAside.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"columnsAside.vue","sourceRoot":"src/layout/component","sourcesContent":["<template>\n\t<div class=\"layout-columns-aside\">\n\t\t<el-scrollbar>\n\t\t\t<ul>\n\t\t\t\t<li\n\t\t\t\t\tv-for=\"(v, k) in columnsAsideList\"\n\t\t\t\t\t:key=\"k\"\n\t\t\t\t\t@click=\"onColumnsAsideMenuClick(v, k)\"\n\t\t\t\t\tref=\"columnsAsideOffsetTopRefs\"\n\t\t\t\t\t:class=\"{ 'layout-columns-active': liIndex === k }\"\n\t\t\t\t\t:title=\"$t(v.meta.title)\"\n\t\t\t\t>\n\t\t\t\t\t<div :class=\"setColumnsAsidelayout\" v-if=\"!v.meta.isLink || (v.meta.isLink && v.meta.isIframe)\">\n\t\t\t\t\t\t<i :class=\"v.meta.icon\"></i>\n\t\t\t\t\t\t<div class=\"font12\">\n\t\t\t\t\t\t\t{{\n\t\t\t\t\t\t\t\t$t(v.meta.title) && $t(v.meta.title).length >= 4\n\t\t\t\t\t\t\t\t\t? $t(v.meta.title).substr(0, setColumnsAsidelayout === 'columns-vertical' ? 4 : 3)\n\t\t\t\t\t\t\t\t\t: $t(v.meta.title)\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div :class=\"setColumnsAsidelayout\" v-else>\n\t\t\t\t\t\t<a :href=\"v.meta.isLink\" target=\"_blank\">\n\t\t\t\t\t\t\t<i :class=\"v.meta.icon\"></i>\n\t\t\t\t\t\t\t<div class=\"font12\">\n\t\t\t\t\t\t\t\t{{\n\t\t\t\t\t\t\t\t\t$t(v.meta.title) && $t(v.meta.title).length >= 4\n\t\t\t\t\t\t\t\t\t\t? $t(v.meta.title).substr(0, setColumnsAsidelayout === 'columns-vertical' ? 4 : 3)\n\t\t\t\t\t\t\t\t\t\t: $t(v.meta.title)\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</div>\n\t\t\t\t</li>\n\t\t\t\t<div ref=\"columnsAsideActiveRef\" :class=\"setColumnsAsideStyle\"></div>\n\t\t\t</ul>\n\t\t</el-scrollbar>\n\t</div>\n</template>\n\n<script>\nexport default {\n\tname: 'layoutColumnsAside',\n\tdata() {\n\t\treturn {\n\t\t\tcolumnsAsideList: [],\n\t\t\tliIndex: 0,\n\t\t\tdifference: 0,\n\t\t\trouteSplit: [],\n\t\t};\n\t},\n\tcomputed: {\n\t\t// 设置分栏高亮风格\n\t\tsetColumnsAsideStyle() {\n\t\t\treturn this.$store.state.themeConfig.themeConfig.columnsAsideStyle;\n\t\t},\n\t\t// 设置分栏布局风格\n\t\tsetColumnsAsidelayout() {\n\t\t\treturn this.$store.state.themeConfig.themeConfig.columnsAsideLayout;\n\t\t},\n\t},\n\tmounted() {\n\t\tthis.setFilterRoutes();\n\t},\n\tmethods: {\n\t\t// 设置菜单高亮位置移动\n\t\tsetColumnsAsideMove(k) {\n\t\t\tconst els = this.$refs.columnsAsideOffsetTopRefs;\n\t\t\tthis.liIndex = k;\n\t\t\tthis.$refs.columnsAsideActiveRef.style.top = `${els[k].offsetTop + this.difference}px`;\n\t\t},\n\t\t// 菜单高亮点击事件\n\t\tonColumnsAsideMenuClick(v, k) {\n\t\t\tthis.setColumnsAsideMove(k);\n\t\t\tlet { path, redirect } = v;\n\t\t\tif (redirect) this.$router.push(redirect);\n\t\t\telse this.$router.push(path);\n\t\t},\n\t\t// 设置高亮动态位置\n\t\tonColumnsAsideDown(k) {\n\t\t\tthis.$nextTick(() => {\n\t\t\t\tthis.setColumnsAsideMove(k);\n\t\t\t});\n\t\t},\n\t\t// 设置/过滤路由（非静态路由/是否显示在菜单中）\n\t\tsetFilterRoutes() {\n\t\t\tif (this.$store.state.routesList.routesList.length <= 0) return false;\n\t\t\tthis.columnsAsideList = this.filterRoutesFun(this.$store.state.routesList.routesList);\n\t\t\tconst resData = this.setSendChildren(this.$route.path);\n\t\t\tif (Object.keys(resData).length <= 0) return false;\n\t\t\tthis.onColumnsAsideDown(resData.item[0].k);\n\t\t\tthis.bus.$emit('setSendColumnsChildren', resData);\n\t\t},\n\t\t// 传送当前子级数据到菜单中\n\t\tsetSendChildren(path) {\n\t\t\tconst currentPathSplit = path.split('/');\n\t\t\tlet currentData = {};\n\t\t\tthis.columnsAsideList.map((v, k) => {\n\t\t\t\tif (v.path === `/${currentPathSplit[1]}`) {\n\t\t\t\t\tv['k'] = k;\n\t\t\t\t\tcurrentData['item'] = [{ ...v }];\n\t\t\t\t\tcurrentData['children'] = [{ ...v }];\n\t\t\t\t\tif (v.children) currentData['children'] = v.children;\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn currentData;\n\t\t},\n\t\t// 路由过滤递归函数\n\t\tfilterRoutesFun(arr) {\n\t\t\treturn arr\n\t\t\t\t.filter((item) => !item.meta.isHide)\n\t\t\t\t.map((item) => {\n\t\t\t\t\titem = Object.assign({}, item);\n\t\t\t\t\tif (item.children) item.children = this.filterRoutesFun(item.children);\n\t\t\t\t\treturn item;\n\t\t\t\t});\n\t\t},\n\t\t// tagsView 点击时，根据路由查找下标 columnsAsideList，实现左侧菜单高亮\n\t\tsetColumnsMenuHighlight(path) {\n\t\t\tthis.routeSplit = path.split('/');\n\t\t\tthis.routeSplit.shift();\n\t\t\tconst routeFirst = `/${this.routeSplit[0]}`;\n\t\t\tconst currentSplitRoute = this.columnsAsideList.find((v) => v.path === routeFirst);\n\t\t\tif (!currentSplitRoute) return false;\n\t\t\t// 延迟拿值，防止取不到\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.onColumnsAsideDown(currentSplitRoute.k);\n\t\t\t}, 0);\n\t\t},\n\t},\n\twatch: {\n\t\t// 监听 vuex 数据变化\n\t\t'$store.state': {\n\t\t\thandler(val) {\n\t\t\t\tval.themeConfig.themeConfig.columnsAsideStyle === 'columnsRound' ? (this.difference = 3) : (this.difference = 0);\n\t\t\t\tif (val.routesList.routesList.length === this.columnsAsideList.length) return false;\n\t\t\t\tthis.setFilterRoutes();\n\t\t\t},\n\t\t\tdeep: true,\n\t\t},\n\t\t// 监听路由的变化\n\t\t$route: {\n\t\t\thandler(to) {\n\t\t\t\tthis.setColumnsMenuHighlight(to.path);\n\t\t\t\tthis.bus.$emit('setSendColumnsChildren', this.setSendChildren(to.path));\n\t\t\t},\n\t\t\tdeep: true,\n\t\t},\n\t},\n};\n</script>\n\n<style scoped lang=\"scss\">\n.layout-columns-aside {\n\twidth: 70px;\n\theight: 100%;\n\tbackground: var(--prev-bg-columnsMenuBar);\n\tul {\n\t\tposition: relative;\n\t\tli {\n\t\t\tcolor: var(--prev-bg-columnsMenuBarColor);\n\t\t\twidth: 100%;\n\t\t\theight: 50px;\n\t\t\ttext-align: center;\n\t\t\tdisplay: flex;\n\t\t\tcursor: pointer;\n\t\t\tposition: relative;\n\t\t\tz-index: 1;\n\t\t\t.columns-vertical {\n\t\t\t\tmargin: auto;\n\t\t\t\t.columns-vertical-title {\n\t\t\t\t\tpadding-top: 1px;\n\t\t\t\t}\n\t\t\t}\n\t\t\t.columns-horizontal {\n\t\t\t\tdisplay: flex;\n\t\t\t\theight: 50px;\n\t\t\t\twidth: 100%;\n\t\t\t\talign-items: center;\n\t\t\t\tpadding: 0 5px;\n\t\t\t\ti {\n\t\t\t\t\tmargin-right: 3px;\n\t\t\t\t}\n\t\t\t\ta {\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t.columns-horizontal-title {\n\t\t\t\t\t\tpadding-top: 1px;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\ta {\n\t\t\t\ttext-decoration: none;\n\t\t\t\tcolor: var(--prev-bg-columnsMenuBarColor);\n\t\t\t}\n\t\t}\n\t\t.layout-columns-active {\n\t\t\tcolor: var(--prev-color-text-white);\n\t\t\ttransition: 0.3s ease-in-out;\n\t\t}\n\t\t.columns-round {\n\t\t\tbackground: var(--prev-color-primary);\n\t\t\tcolor: var(--prev-color-text-white);\n\t\t\tposition: absolute;\n\t\t\tleft: 50%;\n\t\t\ttop: 2px;\n\t\t\theight: 50px;\n\t\t\twidth: 65px;\n\t\t\ttransform: translateX(-50%);\n\t\t\tz-index: 0;\n\t\t\ttransition: 0.3s ease-in-out;\n\t\t\tborder-radius: 5px;\n\t\t}\n\t\t.columns-card {\n\t\t\t@extend .columns-round;\n\t\t\ttop: 0;\n\t\t\theight: 50px;\n\t\t\twidth: 100%;\n\t\t\tborder-radius: 0;\n\t\t}\n\t}\n}\n</style>\n"]}]}