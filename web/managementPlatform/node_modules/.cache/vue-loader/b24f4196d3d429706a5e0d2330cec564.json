{"remainingRequest":"C:\\Users\\FORRE\\Desktop\\LabelClubWebsite\\web\\managementPlatform\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\FORRE\\Desktop\\LabelClubWebsite\\web\\managementPlatform\\src\\layout\\component\\columnsAside.vue?vue&type=style&index=0&id=689455a9&scoped=true&lang=scss&","dependencies":[{"path":"C:\\Users\\FORRE\\Desktop\\LabelClubWebsite\\web\\managementPlatform\\src\\layout\\component\\columnsAside.vue","mtime":1708837928000},{"path":"C:\\Users\\FORRE\\Desktop\\LabelClubWebsite\\web\\managementPlatform\\node_modules\\css-loader\\dist\\cjs.js","mtime":1603358448000},{"path":"C:\\Users\\FORRE\\Desktop\\LabelClubWebsite\\web\\managementPlatform\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1671005790000},{"path":"C:\\Users\\FORRE\\Desktop\\LabelClubWebsite\\web\\managementPlatform\\node_modules\\postcss-loader\\src\\index.js","mtime":1603345542000},{"path":"C:\\Users\\FORRE\\Desktop\\LabelClubWebsite\\web\\managementPlatform\\node_modules\\sass-loader\\dist\\cjs.js","mtime":1614165654000},{"path":"C:\\Users\\FORRE\\Desktop\\LabelClubWebsite\\web\\managementPlatform\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1619085956000},{"path":"C:\\Users\\FORRE\\Desktop\\LabelClubWebsite\\web\\managementPlatform\\node_modules\\vue-loader\\lib\\index.js","mtime":1671005790000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5sYXlvdXQtY29sdW1ucy1hc2lkZSB7Cgl3aWR0aDogNzBweDsKCWhlaWdodDogMTAwJTsKCWJhY2tncm91bmQ6IHZhcigtLXByZXYtYmctY29sdW1uc01lbnVCYXIpOwoJdWwgewoJCXBvc2l0aW9uOiByZWxhdGl2ZTsKCQlsaSB7CgkJCWNvbG9yOiB2YXIoLS1wcmV2LWJnLWNvbHVtbnNNZW51QmFyQ29sb3IpOwoJCQl3aWR0aDogMTAwJTsKCQkJaGVpZ2h0OiA1MHB4OwoJCQl0ZXh0LWFsaWduOiBjZW50ZXI7CgkJCWRpc3BsYXk6IGZsZXg7CgkJCWN1cnNvcjogcG9pbnRlcjsKCQkJcG9zaXRpb246IHJlbGF0aXZlOwoJCQl6LWluZGV4OiAxOwoJCQkuY29sdW1ucy12ZXJ0aWNhbCB7CgkJCQltYXJnaW46IGF1dG87CgkJCQkuY29sdW1ucy12ZXJ0aWNhbC10aXRsZSB7CgkJCQkJcGFkZGluZy10b3A6IDFweDsKCQkJCX0KCQkJfQoJCQkuY29sdW1ucy1ob3Jpem9udGFsIHsKCQkJCWRpc3BsYXk6IGZsZXg7CgkJCQloZWlnaHQ6IDUwcHg7CgkJCQl3aWR0aDogMTAwJTsKCQkJCWFsaWduLWl0ZW1zOiBjZW50ZXI7CgkJCQlwYWRkaW5nOiAwIDVweDsKCQkJCWkgewoJCQkJCW1hcmdpbi1yaWdodDogM3B4OwoJCQkJfQoJCQkJYSB7CgkJCQkJZGlzcGxheTogZmxleDsKCQkJCQkuY29sdW1ucy1ob3Jpem9udGFsLXRpdGxlIHsKCQkJCQkJcGFkZGluZy10b3A6IDFweDsKCQkJCQl9CgkJCQl9CgkJCX0KCQkJYSB7CgkJCQl0ZXh0LWRlY29yYXRpb246IG5vbmU7CgkJCQljb2xvcjogdmFyKC0tcHJldi1iZy1jb2x1bW5zTWVudUJhckNvbG9yKTsKCQkJfQoJCX0KCQkubGF5b3V0LWNvbHVtbnMtYWN0aXZlIHsKCQkJY29sb3I6IHZhcigtLXByZXYtY29sb3ItdGV4dC13aGl0ZSk7CgkJCXRyYW5zaXRpb246IDAuM3MgZWFzZS1pbi1vdXQ7CgkJfQoJCS5jb2x1bW5zLXJvdW5kIHsKCQkJYmFja2dyb3VuZDogdmFyKC0tcHJldi1jb2xvci1wcmltYXJ5KTsKCQkJY29sb3I6IHZhcigtLXByZXYtY29sb3ItdGV4dC13aGl0ZSk7CgkJCXBvc2l0aW9uOiBhYnNvbHV0ZTsKCQkJbGVmdDogNTAlOwoJCQl0b3A6IDJweDsKCQkJaGVpZ2h0OiA1MHB4OwoJCQl3aWR0aDogNjVweDsKCQkJdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC01MCUpOwoJCQl6LWluZGV4OiAwOwoJCQl0cmFuc2l0aW9uOiAwLjNzIGVhc2UtaW4tb3V0OwoJCQlib3JkZXItcmFkaXVzOiA1cHg7CgkJfQoJCS5jb2x1bW5zLWNhcmQgewoJCQlAZXh0ZW5kIC5jb2x1bW5zLXJvdW5kOwoJCQl0b3A6IDA7CgkJCWhlaWdodDogNTBweDsKCQkJd2lkdGg6IDEwMCU7CgkJCWJvcmRlci1yYWRpdXM6IDA7CgkJfQoJfQp9Cg=="},{"version":3,"sources":["columnsAside.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0JA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"columnsAside.vue","sourceRoot":"src/layout/component","sourcesContent":["<template>\n\t<div class=\"layout-columns-aside\">\n\t\t<el-scrollbar>\n\t\t\t<ul>\n\t\t\t\t<li\n\t\t\t\t\tv-for=\"(v, k) in columnsAsideList\"\n\t\t\t\t\t:key=\"k\"\n\t\t\t\t\t@click=\"onColumnsAsideMenuClick(v, k)\"\n\t\t\t\t\tref=\"columnsAsideOffsetTopRefs\"\n\t\t\t\t\t:class=\"{ 'layout-columns-active': liIndex === k }\"\n\t\t\t\t\t:title=\"$t(v.meta.title)\"\n\t\t\t\t>\n\t\t\t\t\t<div :class=\"setColumnsAsidelayout\" v-if=\"!v.meta.isLink || (v.meta.isLink && v.meta.isIframe)\">\n\t\t\t\t\t\t<i :class=\"v.meta.icon\"></i>\n\t\t\t\t\t\t<div class=\"font12\">\n\t\t\t\t\t\t\t{{\n\t\t\t\t\t\t\t\t$t(v.meta.title) && $t(v.meta.title).length >= 4\n\t\t\t\t\t\t\t\t\t? $t(v.meta.title).substr(0, setColumnsAsidelayout === 'columns-vertical' ? 4 : 3)\n\t\t\t\t\t\t\t\t\t: $t(v.meta.title)\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div :class=\"setColumnsAsidelayout\" v-else>\n\t\t\t\t\t\t<a :href=\"v.meta.isLink\" target=\"_blank\">\n\t\t\t\t\t\t\t<i :class=\"v.meta.icon\"></i>\n\t\t\t\t\t\t\t<div class=\"font12\">\n\t\t\t\t\t\t\t\t{{\n\t\t\t\t\t\t\t\t\t$t(v.meta.title) && $t(v.meta.title).length >= 4\n\t\t\t\t\t\t\t\t\t\t? $t(v.meta.title).substr(0, setColumnsAsidelayout === 'columns-vertical' ? 4 : 3)\n\t\t\t\t\t\t\t\t\t\t: $t(v.meta.title)\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</div>\n\t\t\t\t</li>\n\t\t\t\t<div ref=\"columnsAsideActiveRef\" :class=\"setColumnsAsideStyle\"></div>\n\t\t\t</ul>\n\t\t</el-scrollbar>\n\t</div>\n</template>\n\n<script>\nexport default {\n\tname: 'layoutColumnsAside',\n\tdata() {\n\t\treturn {\n\t\t\tcolumnsAsideList: [],\n\t\t\tliIndex: 0,\n\t\t\tdifference: 0,\n\t\t\trouteSplit: [],\n\t\t};\n\t},\n\tcomputed: {\n\t\t// 设置分栏高亮风格\n\t\tsetColumnsAsideStyle() {\n\t\t\treturn this.$store.state.themeConfig.themeConfig.columnsAsideStyle;\n\t\t},\n\t\t// 设置分栏布局风格\n\t\tsetColumnsAsidelayout() {\n\t\t\treturn this.$store.state.themeConfig.themeConfig.columnsAsideLayout;\n\t\t},\n\t},\n\tmounted() {\n\t\tthis.setFilterRoutes();\n\t},\n\tmethods: {\n\t\t// 设置菜单高亮位置移动\n\t\tsetColumnsAsideMove(k) {\n\t\t\tconst els = this.$refs.columnsAsideOffsetTopRefs;\n\t\t\tthis.liIndex = k;\n\t\t\tthis.$refs.columnsAsideActiveRef.style.top = `${els[k].offsetTop + this.difference}px`;\n\t\t},\n\t\t// 菜单高亮点击事件\n\t\tonColumnsAsideMenuClick(v, k) {\n\t\t\tthis.setColumnsAsideMove(k);\n\t\t\tlet { path, redirect } = v;\n\t\t\tif (redirect) this.$router.push(redirect);\n\t\t\telse this.$router.push(path);\n\t\t},\n\t\t// 设置高亮动态位置\n\t\tonColumnsAsideDown(k) {\n\t\t\tthis.$nextTick(() => {\n\t\t\t\tthis.setColumnsAsideMove(k);\n\t\t\t});\n\t\t},\n\t\t// 设置/过滤路由（非静态路由/是否显示在菜单中）\n\t\tsetFilterRoutes() {\n\t\t\tif (this.$store.state.routesList.routesList.length <= 0) return false;\n\t\t\tthis.columnsAsideList = this.filterRoutesFun(this.$store.state.routesList.routesList);\n\t\t\tconst resData = this.setSendChildren(this.$route.path);\n\t\t\tif (Object.keys(resData).length <= 0) return false;\n\t\t\tthis.onColumnsAsideDown(resData.item[0].k);\n\t\t\tthis.bus.$emit('setSendColumnsChildren', resData);\n\t\t},\n\t\t// 传送当前子级数据到菜单中\n\t\tsetSendChildren(path) {\n\t\t\tconst currentPathSplit = path.split('/');\n\t\t\tlet currentData = {};\n\t\t\tthis.columnsAsideList.map((v, k) => {\n\t\t\t\tif (v.path === `/${currentPathSplit[1]}`) {\n\t\t\t\t\tv['k'] = k;\n\t\t\t\t\tcurrentData['item'] = [{ ...v }];\n\t\t\t\t\tcurrentData['children'] = [{ ...v }];\n\t\t\t\t\tif (v.children) currentData['children'] = v.children;\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn currentData;\n\t\t},\n\t\t// 路由过滤递归函数\n\t\tfilterRoutesFun(arr) {\n\t\t\treturn arr\n\t\t\t\t.filter((item) => !item.meta.isHide)\n\t\t\t\t.map((item) => {\n\t\t\t\t\titem = Object.assign({}, item);\n\t\t\t\t\tif (item.children) item.children = this.filterRoutesFun(item.children);\n\t\t\t\t\treturn item;\n\t\t\t\t});\n\t\t},\n\t\t// tagsView 点击时，根据路由查找下标 columnsAsideList，实现左侧菜单高亮\n\t\tsetColumnsMenuHighlight(path) {\n\t\t\tthis.routeSplit = path.split('/');\n\t\t\tthis.routeSplit.shift();\n\t\t\tconst routeFirst = `/${this.routeSplit[0]}`;\n\t\t\tconst currentSplitRoute = this.columnsAsideList.find((v) => v.path === routeFirst);\n\t\t\tif (!currentSplitRoute) return false;\n\t\t\t// 延迟拿值，防止取不到\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.onColumnsAsideDown(currentSplitRoute.k);\n\t\t\t}, 0);\n\t\t},\n\t},\n\twatch: {\n\t\t// 监听 vuex 数据变化\n\t\t'$store.state': {\n\t\t\thandler(val) {\n\t\t\t\tval.themeConfig.themeConfig.columnsAsideStyle === 'columnsRound' ? (this.difference = 3) : (this.difference = 0);\n\t\t\t\tif (val.routesList.routesList.length === this.columnsAsideList.length) return false;\n\t\t\t\tthis.setFilterRoutes();\n\t\t\t},\n\t\t\tdeep: true,\n\t\t},\n\t\t// 监听路由的变化\n\t\t$route: {\n\t\t\thandler(to) {\n\t\t\t\tthis.setColumnsMenuHighlight(to.path);\n\t\t\t\tthis.bus.$emit('setSendColumnsChildren', this.setSendChildren(to.path));\n\t\t\t},\n\t\t\tdeep: true,\n\t\t},\n\t},\n};\n</script>\n\n<style scoped lang=\"scss\">\n.layout-columns-aside {\n\twidth: 70px;\n\theight: 100%;\n\tbackground: var(--prev-bg-columnsMenuBar);\n\tul {\n\t\tposition: relative;\n\t\tli {\n\t\t\tcolor: var(--prev-bg-columnsMenuBarColor);\n\t\t\twidth: 100%;\n\t\t\theight: 50px;\n\t\t\ttext-align: center;\n\t\t\tdisplay: flex;\n\t\t\tcursor: pointer;\n\t\t\tposition: relative;\n\t\t\tz-index: 1;\n\t\t\t.columns-vertical {\n\t\t\t\tmargin: auto;\n\t\t\t\t.columns-vertical-title {\n\t\t\t\t\tpadding-top: 1px;\n\t\t\t\t}\n\t\t\t}\n\t\t\t.columns-horizontal {\n\t\t\t\tdisplay: flex;\n\t\t\t\theight: 50px;\n\t\t\t\twidth: 100%;\n\t\t\t\talign-items: center;\n\t\t\t\tpadding: 0 5px;\n\t\t\t\ti {\n\t\t\t\t\tmargin-right: 3px;\n\t\t\t\t}\n\t\t\t\ta {\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t.columns-horizontal-title {\n\t\t\t\t\t\tpadding-top: 1px;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\ta {\n\t\t\t\ttext-decoration: none;\n\t\t\t\tcolor: var(--prev-bg-columnsMenuBarColor);\n\t\t\t}\n\t\t}\n\t\t.layout-columns-active {\n\t\t\tcolor: var(--prev-color-text-white);\n\t\t\ttransition: 0.3s ease-in-out;\n\t\t}\n\t\t.columns-round {\n\t\t\tbackground: var(--prev-color-primary);\n\t\t\tcolor: var(--prev-color-text-white);\n\t\t\tposition: absolute;\n\t\t\tleft: 50%;\n\t\t\ttop: 2px;\n\t\t\theight: 50px;\n\t\t\twidth: 65px;\n\t\t\ttransform: translateX(-50%);\n\t\t\tz-index: 0;\n\t\t\ttransition: 0.3s ease-in-out;\n\t\t\tborder-radius: 5px;\n\t\t}\n\t\t.columns-card {\n\t\t\t@extend .columns-round;\n\t\t\ttop: 0;\n\t\t\theight: 50px;\n\t\t\twidth: 100%;\n\t\t\tborder-radius: 0;\n\t\t}\n\t}\n}\n</style>\n"]}]}