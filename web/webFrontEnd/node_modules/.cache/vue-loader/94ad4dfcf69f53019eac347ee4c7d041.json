{"remainingRequest":"C:\\Users\\FORRE\\Desktop\\LabelClubWebsite\\web\\webFrontEnd\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\FORRE\\Desktop\\LabelClubWebsite\\web\\webFrontEnd\\src\\views\\audioadd.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"C:\\Users\\FORRE\\Desktop\\LabelClubWebsite\\web\\webFrontEnd\\src\\views\\audioadd.vue","mtime":1710381949603},{"path":"C:\\Users\\FORRE\\Desktop\\LabelClubWebsite\\web\\webFrontEnd\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\FORRE\\Desktop\\LabelClubWebsite\\web\\webFrontEnd\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\FORRE\\Desktop\\LabelClubWebsite\\web\\webFrontEnd\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\FORRE\\Desktop\\LabelClubWebsite\\web\\webFrontEnd\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\FORRE\\Desktop\\LabelClubWebsite\\web\\webFrontEnd\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgpAaW1wb3J0ICIuLi9hc3NldHMvY3NzL2luZGV4LnNjc3MiOwovKiDlpLTpg6hDU1MgKi8KI2RldGFpbHMgLnBhZ2UtaGVhZGVyIHsKICBoZWlnaHQ6IDY0cHg7CiAgbWFyZ2luLXRvcDogLTIwcHg7CiAgei1pbmRleDogNDsKICBiYWNrZ3JvdW5kOiAjZmZmOwogIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZTBlMGUwOwogIC13ZWJraXQtYm94LXNoYWRvdzogMCA1cHggNXB4IHJnYmEoMCwgMCwgMCwgMC4wNyk7CiAgYm94LXNoYWRvdzogMCA1cHggNXB4IHJnYmEoMCwgMCwgMCwgMC4wNyk7Cn0KI2RldGFpbHMgLnBhZ2UtaGVhZGVyIC50aXRsZSB7CiAgd2lkdGg6IDEyMjVweDsKICBoZWlnaHQ6IDY0cHg7CiAgbGluZS1oZWlnaHQ6IDY0cHg7CiAgZm9udC1zaXplOiAxOHB4OwogIGZvbnQtd2VpZ2h0OiA0MDA7CiAgY29sb3I6ICMyMTIxMjE7CiAgbWFyZ2luOiAwIGF1dG87Cn0KI2RldGFpbHMgLnBhZ2UtaGVhZGVyIC50aXRsZSBwIHsKICBmbG9hdDogbGVmdDsKfQoKI2RldGFpbHMgLnBhZ2UtaGVhZGVyIC50aXRsZSAubGlzdCBsaSB7CiAgZmxvYXQ6IGxlZnQ7CiAgbWFyZ2luLWxlZnQ6IDIwcHg7Cn0KI2RldGFpbHMgLnBhZ2UtaGVhZGVyIC50aXRsZSAubGlzdCBsaSBhIHsKICBmb250LXNpemU6IDE0cHg7CiAgY29sb3I6ICM2MTYxNjE7Cn0KI2RldGFpbHMgLnBhZ2UtaGVhZGVyIC50aXRsZSAubGlzdCBsaSBhOmhvdmVyIHsKICBmb250LXNpemU6IDE0cHg7CiAgY29sb3I6ICNmZjY3MDA7Cn0KLyog5aS06YOoQ1NTIEVORCAqLwoKLyog5Li76KaB5YaF5a65Q1NTICovCiNkZXRhaWxzIC5tYWluIHsKICB3aWR0aDogMTIyNXB4OwogIGhlaWdodDogNTYwcHg7CiAgcGFkZGluZy10b3A6IDMwcHg7CiAgbWFyZ2luOiAwIGF1dG87Cn0KCiNkZXRhaWxzIC5tYWluIC5jb250ZW50IHsKICBmbG9hdDogbGVmdDsKICBtYXJnaW4tbGVmdDogMjVweDsKICB3aWR0aDogNjQwcHg7Cn0KCiNkZXRhaWxzIC5tYWluIC5jb250ZW50IC5wcm8tbGlzdCBzcGFuIHsKICBsaW5lLWhlaWdodDogMzBweDsKICBjb2xvcjogIzYxNjE2MTsKfQoKI2RldGFpbHMgLm1haW4gLmNvbnRlbnQgLnByby1wb2xpY3kgbGkgewogIGZsb2F0OiBsZWZ0OwogIG1hcmdpbi1yaWdodDogMjBweDsKICBjb2xvcjogI2IwYjBiMDsKfQovKiDkuLvopoHlhoXlrrlDU1MgRU5EICovCg=="},{"version":3,"sources":["audioadd.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"audioadd.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <div id=\"details\">\r\n    <!-- 头部 -->\r\n    <div class=\"page-header\">\r\n      <div class=\"title\" style=\"font-size: 14px;\">\r\n        <p>首页>> 音频稿件列表 >> 投稿 </p>\r\n      </div>\r\n    </div>\r\n    <div class=\"main\">\r\n      <div class=\"content\">\r\n        <el-form label-width=\"150px\" ref=\"editForm\" :model=\"editForm\" :rules=\"rules\">\r\n          <el-form-item  style=\"display: none\" label=\"aid\" prop=\"aid\"><el-input size=\"small\" v-model=\"editForm.aid\" auto-complete=\"off\" placeholder=\"请输入aid\" style='width:50%'></el-input></el-form-item>\r\n\t\t<el-form-item  label=\"厂牌名称\" prop=\"labelname\"><el-input size=\"small\" v-model=\"editForm.labelname\" auto-complete=\"off\" placeholder=\"请输入厂牌名称\" style='width:50%' disabled></el-input></el-form-item>\r\n\t\t<el-form-item  label=\"作品名\" prop=\"audioname\"><el-input size=\"small\" v-model=\"editForm.audioname\" auto-complete=\"off\" placeholder=\"请输入作品名\" style='width:50%'></el-input></el-form-item>\r\n\t\t<el-form-item  label=\"作者\" prop=\"author\"><el-input size=\"small\" v-model=\"editForm.author\" auto-complete=\"off\" placeholder=\"请输入作者\" style='width:50%' disabled></el-input></el-form-item>\r\n\t\t<el-form-item  label='文件' prop='audio'><el-upload class='avatar-uploader' action='/api/files/front/uploadfile' :headers='headers' :show-file-list='false' :on-success='handleFileSuccess' ><el-button>上传</el-button></el-upload></el-form-item>\r\n\t\t<el-form-item  label=\"流派\" prop=\"genre\"><el-input size=\"small\" v-model=\"editForm.genre\" auto-complete=\"off\" placeholder=\"请输入流派\" style='width:50%'></el-input></el-form-item>\r\n\t\t<el-form-item  label=\"稿件备注/联系方式\" prop=\"remark\"><el-input type=\"textarea\" size=\"small\" v-model=\"editForm.remark\" auto-complete=\"off\" placeholder=\"请输入稿件备注/联系方式，以便厂牌进行后续跟进\" style='width:100%'></el-input></el-form-item>\r\n\t\t<el-form-item  label=\"上传时间\" prop=\"udt\"><el-input size=\"small\" v-model=\"editForm.udt\" auto-complete=\"off\" placeholder=\"请输入上传时间\" style='width:50%'></el-input></el-form-item>\r\n\t\t\r\n\r\n        </el-form>\r\n        <div slot=\"footer\" class=\"dialog-footer\">\r\n          <el-button size=\"small\" type=\"primary\" :loading=\"loading\" class=\"title\" @click=\"submitForm('editForm')\">提交</el-button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\n\r\n  export default {\r\n    data() {\r\n      return {\r\n        dis: false, // 控制“加入购物车按钮是否可用”\r\n\t\tusername:'',\r\n        cx:'',\r\n\t\tlabelID:'',\r\nlabel:'',\r\n          currentTime: '',\r\n        rules: {\r\n          audioname: [{ required: true, message: '请输入作品名', trigger: 'blur' },\r\n\t\t\t\t],\r\n\t\t\t\t\r\n        },\r\n        editForm: {\r\n          avater:'',\r\n          labelname:'',\r\n\r\n\r\n        },\r\n      };\r\n    },\r\n    watch: {\r\n      // eslint-disable-next-line no-unused-vars\r\n      '$route' (to, from) {\r\n        // 路由发生变化页面刷新\r\n        this.$router.go(0);\r\n      }\r\n    },\r\n      mounted() {\r\n          let date = new Date();\r\n          let year = date.getFullYear();\r\n          let month = date.getMonth() + 1;\r\n          let day = date.getDate();\r\n          let hour = date.getHours();\r\n          let minute = date.getMinutes();\r\n          let second = date.getSeconds();\r\n          this.currentTime = year + '-' + month + '-' + day + ' ' + hour + ':' + minute + ':' + second;\r\n          this.editForm.qiandaoshijian= this.currentTime;\r\n      },\r\n    created() {\r\n      if (localStorage.getItem(\"user\")) {\r\n            // 如果已经登录，设置vuex登录状态\r\n            //this.setUser(JSON.parse(localStorage.getItem(\"user\")));\r\n\t\t\tthis.userInfo=JSON.parse(localStorage.getItem(\"user\"));\r\n            this.username = localStorage.getItem(\"username\");\r\n            this.cx = localStorage.getItem(\"cx\");\r\n        }\r\n      //sesxsionduxqu\r\n      this.editForm.aid = this.getProjectNum() + Math.floor(Math.random() * 10000);\r\n      let id = this.$route.params.id;this.getDetails(id);\r\n    },\r\n    methods: {\r\n      getProjectNum () {\r\n        const projectTime = new Date() // 当前中国标准时间\r\n        const Year = projectTime.getFullYear() // 获取当前年份 支持IE和火狐浏览器.\r\n        const Month = projectTime.getMonth() + 1 // 获取中国区月份\r\n        const Day = projectTime.getDate() // 获取几号\r\n        let CurrentDate = Year;\r\n        if (Month >= 10) { // 判断月份和几号是否大于10或者小于10\r\n          CurrentDate += Month\r\n        } else {\r\n          CurrentDate += '0' + Month\r\n        }\r\n        if (Day >= 10) {\r\n          CurrentDate += Day\r\n        } else {\r\n          CurrentDate += '0' + Day\r\n        }\r\n        return CurrentDate\r\n      },\r\n      //qixuzhijixsuan3\r\n      getDetails(id){\r\n\t\t\tthis.$axios\r\n                .get(\"/api/front/getlabeldetail/\"+id,)\r\n                .then(res => {\r\n                  this.label = res.data.data;\r\n                  this.editForm.labelname = this.label.labelname;\r\n                    this.editForm.udt= this.currentTime;\r\n                  this.editForm.author= this.userInfo.username;\r\n                })\r\n                .catch(err => {\r\n                  return Promise.reject(err);\r\n                });\r\n\t\t\t\r\n\t\t},\r\n      // eslint-disable-next-line no-unused-vars\r\n      handleFileSuccess(res, file) {\r\n\t\t\t\tif(res.code == \"0\") {\r\n\t\t\t\t\tthis.editForm.wenjian = \"/files/download/\"+res.data.id\r\n\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\ttype: 'success',\r\n\t\t\t\t\t\tmessage: '文件上传成功！'\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\ttype: 'info',\r\n\t\t\t\t\t\tmessage: res.msg\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tdownload(data){\r\n\t\t\tlocation.href = data.file;\r\n\t\t},\r\n\t\t\t\t\r\n      submitForm(editData) {\r\n        this.$refs[editData].validate(valid => {\r\n          if (valid) {\r\n            // eslint-disable-next-line no-empty\r\n            if(this.editForm.id){\r\n            }else {\r\n              this.$axios\r\n                      .post(\"/api/front/postaudio/\",this.editForm)\r\n                      .then(res => {\r\n                        if (res.data.code == '0') {\r\n                          this.$message({\r\n                            type: 'success',\r\n                            message: '添加成功！'\r\n                          })\r\n                        }\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\telse {\r\n                          this.$message({\r\n                            type: 'info',\r\n                            message: res.msg\r\n                          })\r\n                        }\r\n                      }).catch(err => {\r\n                if(err){\r\n                  this.$message.error(err)\r\n                }else {\r\n                  this.$message.error('操作失败，请稍后再试！')\r\n                }\r\n              })\r\n            }\r\n          } else {\r\n            return false\r\n          }\r\n        })\r\n      },\r\n    }\r\n  };\r\n</script>\r\n<style>\r\n  @import \"../assets/css/index.scss\";\r\n  /* 头部CSS */\r\n  #details .page-header {\r\n    height: 64px;\r\n    margin-top: -20px;\r\n    z-index: 4;\r\n    background: #fff;\r\n    border-bottom: 1px solid #e0e0e0;\r\n    -webkit-box-shadow: 0 5px 5px rgba(0, 0, 0, 0.07);\r\n    box-shadow: 0 5px 5px rgba(0, 0, 0, 0.07);\r\n  }\r\n  #details .page-header .title {\r\n    width: 1225px;\r\n    height: 64px;\r\n    line-height: 64px;\r\n    font-size: 18px;\r\n    font-weight: 400;\r\n    color: #212121;\r\n    margin: 0 auto;\r\n  }\r\n  #details .page-header .title p {\r\n    float: left;\r\n  }\r\n\r\n  #details .page-header .title .list li {\r\n    float: left;\r\n    margin-left: 20px;\r\n  }\r\n  #details .page-header .title .list li a {\r\n    font-size: 14px;\r\n    color: #616161;\r\n  }\r\n  #details .page-header .title .list li a:hover {\r\n    font-size: 14px;\r\n    color: #ff6700;\r\n  }\r\n  /* 头部CSS END */\r\n\r\n  /* 主要内容CSS */\r\n  #details .main {\r\n    width: 1225px;\r\n    height: 560px;\r\n    padding-top: 30px;\r\n    margin: 0 auto;\r\n  }\r\n\r\n  #details .main .content {\r\n    float: left;\r\n    margin-left: 25px;\r\n    width: 640px;\r\n  }\r\n\r\n  #details .main .content .pro-list span {\r\n    line-height: 30px;\r\n    color: #616161;\r\n  }\r\n\r\n  #details .main .content .pro-policy li {\r\n    float: left;\r\n    margin-right: 20px;\r\n    color: #b0b0b0;\r\n  }\r\n  /* 主要内容CSS END */\r\n</style>\r\n"]}]}