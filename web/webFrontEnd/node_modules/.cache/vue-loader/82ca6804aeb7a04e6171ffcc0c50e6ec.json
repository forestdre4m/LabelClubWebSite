{"remainingRequest":"C:\\Users\\FORRE\\Desktop\\LabelClubWebsite\\web\\webFrontEnd\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\FORRE\\Desktop\\LabelClubWebsite\\web\\webFrontEnd\\src\\views\\Liuyan.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\FORRE\\Desktop\\LabelClubWebsite\\web\\webFrontEnd\\src\\views\\Liuyan.vue","mtime":1710225158848},{"path":"C:\\Users\\FORRE\\Desktop\\LabelClubWebsite\\web\\webFrontEnd\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\FORRE\\Desktop\\LabelClubWebsite\\web\\webFrontEnd\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\FORRE\\Desktop\\LabelClubWebsite\\web\\webFrontEnd\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\FORRE\\Desktop\\LabelClubWebsite\\web\\webFrontEnd\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1hcEFjdGlvbnMgfSBmcm9tICJ2dWV4IjsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBkaXM6IGZhbHNlLCAvLyDmjqfliLbigJzliqDlhaXotK3nianovabmjInpkq7mmK/lkKblj6/nlKjigJ0KICAgICAgcHJvZHVjdElEOiAiIiwgLy8g5ZWG5ZOBaWQKICAgICAgY29tbWVudDp7fSwKICAgICAgY29tbWVudHM6W10sCiAgICAgIGl0ZW06IHsKICAgICAgICB1c2VyOnt9LAogICAgICAgIHNoZXpoYW5nOnt9LAogICAgICAgIHNoZXR1YW46e30KICAgICAgfSwgLy8g5ZWG5ZOB6K+m57uG5L+h5oGvCiAgICAgIG90aGVyVGllemk6W10sCiAgICAgIHByb2R1Y3RQaWN0dXJlOiAiIiwgLy8g5ZWG5ZOB5Zu+54mHCiAgICAgIHVzZXJJbmZvOnt9LAogICAgfTsKICB9LAogIHdhdGNoOiB7CiAgICAnJHJvdXRlJyh0bywgZnJvbSkgewogICAgICB0aGlzLiRyb3V0ZXIuZ28oMCkKICAgIH0KICB9LAogIGNyZWF0ZWQoKSB7CiAgICBsZXQgdXNlciA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJ1c2VyIik7CiAgICBpZighdXNlcil7CiAgICAgIHRoaXMubm90aWZ5RXJyb3IoIuivt+WFiOeZu+W9lSIpOwogICAgfQogICAgdGhpcy51c2VySW5mbyA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oInVzZXIiKSkKICAgIHRoaXMuZ2V0Q29tbWVudCgpOwogIH0sCiAgbWV0aG9kczogewogICAgLi4ubWFwQWN0aW9ucyhbInVuc2hpZnRTaG9wcGluZ0NhcnQiLCAiYWRkU2hvcHBpbmdDYXJ0TnVtIl0pLAogICAgLy8g6I635Y+W5ZWG5ZOB6K+m57uG5L+h5oGvCiAgICBnZXRDb21tZW50KCkgewogICAgICB0aGlzLiRheGlvcwogICAgICAgICAgICAgIC5nZXQoIi9hcGkvZnJvbnQvZ2V0TGl1eWFuIiwpCiAgICAgICAgICAgICAgLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgICAgIHRoaXMuY29tbWVudHMgPSByZXMuZGF0YS5kYXRhOwogICAgICAgICAgICAgIH0pLmNhdGNoKGVyciA9PiB7CiAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyKTsKICAgICAgICAgICAgICB9KTsKICAgIH0sCiAgICBhZGQoKXsKICAgICAgdGhpcy5jb21tZW50LnBhcmVudElkID0gMDsKICAgICAgdGhpcy5jb21tZW50LnpoYW5naGFvID0gdGhpcy51c2VySW5mby56aGFuZ2hhbzsKICAgICAgdGhpcy5jb21tZW50LmNoZW5nID0gdGhpcy51c2VySW5mby51c2VybmFtZTsKICAgICAgdGhpcy4kYXhpb3MucG9zdCgnL2FwaS9mcm9udC9hZGRMaXV5YW4nLCB0aGlzLmNvbW1lbnQpLnRoZW4ocmVzID0+IHsKICAgICAgICBpZiAocmVzLmRhdGEuY29kZSA9PT0gJzAnKSB7CiAgICAgICAgICB0aGlzLmdldENvbW1lbnQodGhpcy5pZCk7CiAgICAgICAgICB0aGlzLmNvbW1lbnQudGl0bGUgPSAiIgogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBhbGVydChyZXMuZGF0YS5tc2cpOwogICAgICAgIH0KICAgICAgfSkKICAgIH0sCiAgICByZXBseShpZCwgY29udGVudCkgewogICAgICBpZiAoIWNvbnRlbnQpIHsKICAgICAgICB0aGlzLm5vdGlmeUVycm9yKCLor7floavlhpnlm57lpI3lhoXlrrkiKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgbGV0IGRhdGEgPSB7Ymlhb3RpOiBjb250ZW50LHpoYW5naGFvOnRoaXMudXNlckluZm8uemhhbmdoYW8sY2hlbmc6dGhpcy51c2VySW5mby51c2VybmFtZSxwYXJlbnQ6IGlkfTsKICAgICAgdGhpcy4kYXhpb3MucG9zdCgnL2FwaS9mcm9udC9hZGRMaXV5YW4nLCBkYXRhKS50aGVuKHJlcyA9PiB7CiAgICAgICAgdGhpcy5nZXRDb21tZW50KCk7CiAgICAgIH0pCiAgICB9LAogIH0KfTsK"},{"version":3,"sources":["Liuyan.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Liuyan.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div id=\"container\" style=\"width:80%;margin: 5px auto\">\n    <el-row :gutter=\"20\">\n      <el-col span=\"24\">\n        <div class=\"comment\">\n          <div class=\"comment-item\">\n            <el-row v-for=\"item in comments\" :key=\"item.id\" style=\"margin-top: 20px\">\n              <el-col span=\"4\" style=\"text-align: center\">{{item.cheng}}  发送：</el-col>\n              <el-col span=\"18\">\n                <el-row>\n                  <el-col span=\"12\" style=\"text-align: justify;\">{{item.title}}</el-col>\n                  <el-col span=\"12\" style=\"text-align: justify;\">{{item.addtime|datePipe('yyyy-MM-dd hh:mm:ss')}}</el-col>\n                  <div style=\"color: #888;margin-left: -150px;padding-top: 30px\" v-for=\"child in item.children\" :key=\"child.id\">\n                    <el-col span=\"4\" style=\"text-align: center\">{{child.cheng}}  回复：</el-col>\n                    <el-col span=\"18\">\n                      <el-row>\n                        <el-col span=\"12\">{{child.title}}</el-col>\n                        <el-col span=\"12\" style=\"text-align: right\">{{child.addtime|datePipe('yyyy-MM-dd hh:mm:ss')}}</el-col>\n                      </el-row>\n                    </el-col>\n                  </div>\n                  <el-col span=\"12\" style=\"margin-top: 20px\">\n                    <el-input type=\"text\" class=\"form-control\" style=\"width: 70%; display: inline-block\" v-model=\"item.reply\"/>\n                    <el-button type=\"primary\" @click=\"reply(item.id, item.reply)\">回复</el-button>\n                  </el-col>\n                </el-row>\n              </el-col>\n            </el-row>\n          </div>\n        </div>\n        <div class=\"row\">\n          <div class=\"col-md-8 col-md-offset-2\">\n            <h2>留言</h2>\n          </div>\n        </div>\n        <div class=\"comment-item\">\n          <el-row>\n            <el-input type=\"textarea\" rows=\"3\" v-model=\"comment.title\"></el-input>\n          </el-row>\n          <el-row>\n            <el-button type=\"primary\"  @click=\"add()\">发送</el-button>\n          </el-row>\n        </div>\n      </el-col>\n    </el-row>\n  </div>\n</template>\n<script>\n  import { mapActions } from \"vuex\";\n  export default {\n    data() {\n      return {\n        dis: false, // 控制“加入购物车按钮是否可用”\n        productID: \"\", // 商品id\n        comment:{},\n        comments:[],\n        item: {\n          user:{},\n          shezhang:{},\n          shetuan:{}\n        }, // 商品详细信息\n        otherTiezi:[],\n        productPicture: \"\", // 商品图片\n        userInfo:{},\n      };\n    },\n    watch: {\n      '$route'(to, from) {\n        this.$router.go(0)\n      }\n    },\n    created() {\n      let user = localStorage.getItem(\"user\");\n      if(!user){\n        this.notifyError(\"请先登录\");\n      }\n      this.userInfo = JSON.parse(localStorage.getItem(\"user\"))\n      this.getComment();\n    },\n    methods: {\n      ...mapActions([\"unshiftShoppingCart\", \"addShoppingCartNum\"]),\n      // 获取商品详细信息\n      getComment() {\n        this.$axios\n                .get(\"/api/front/getLiuyan\",)\n                .then(res => {\n                  this.comments = res.data.data;\n                }).catch(err => {\n                  return Promise.reject(err);\n                });\n      },\n      add(){\n        this.comment.parentId = 0;\n        this.comment.zhanghao = this.userInfo.zhanghao;\n        this.comment.cheng = this.userInfo.username;\n        this.$axios.post('/api/front/addLiuyan', this.comment).then(res => {\n          if (res.data.code === '0') {\n            this.getComment(this.id);\n            this.comment.title = \"\"\n          } else {\n            alert(res.data.msg);\n          }\n        })\n      },\n      reply(id, content) {\n        if (!content) {\n          this.notifyError(\"请填写回复内容\");\n          return;\n        }\n        let data = {biaoti: content,zhanghao:this.userInfo.zhanghao,cheng:this.userInfo.username,parent: id};\n        this.$axios.post('/api/front/addLiuyan', data).then(res => {\n          this.getComment();\n        })\n      },\n    }\n  };\n</script>\n<style>\n  /* 头部CSS */\n  #details .page-header {\n    height: 64px;\n    margin-top: -20px;\n    z-index: 4;\n    background: #fff;\n    border-bottom: 1px solid #e0e0e0;\n    -webkit-box-shadow: 0px 5px 5px rgba(0, 0, 0, 0.07);\n    box-shadow: 0px 5px 5px rgba(0, 0, 0, 0.07);\n  }\n  #details .page-header .title {\n    width: 1225px;\n    height: 64px;\n    line-height: 64px;\n    font-size: 18px;\n    font-weight: 400;\n    color: #212121;\n    margin: 0 auto;\n  }\n  #details .page-header .title p {\n    float: left;\n  }\n  #details .page-header .title .list {\n    height: 64px;\n    float: right;\n  }\n  #details .page-header .title .list li {\n    float: left;\n    margin-left: 20px;\n  }\n  #details .page-header .title .list li a {\n    font-size: 14px;\n    color: #616161;\n  }\n  #details .page-header .title .list li a:hover {\n    font-size: 14px;\n    color: #ff6700;\n  }\n  /* 头部CSS END */\n\n  /* 主要内容CSS */\n  #details .main {\n    width: 1225px;\n    height: 500px;\n    padding-top: 30px;\n    margin: 0 auto;\n  }\n  #details .main .block {\n    float: left;\n    width: 560px;\n    height: 500px;\n  }\n  #details .el-carousel .el-carousel__indicator .el-carousel__button {\n    background-color: rgba(163, 163, 163, 0.8);\n  }\n  #details .main .content {\n    float: left;\n    margin-left: 25px;\n    width: 640px;\n  }\n  #details .main .content .name {\n    height: 30px;\n    line-height: 30px;\n    font-size: 24px;\n    font-weight: normal;\n    color: #212121;\n  }\n  #details .main .content .intro {\n    color: #b0b0b0;\n    padding-top: 10px;\n  }\n  #details .main .content .store {\n    color: #ff6700;\n    padding-top: 10px;\n  }\n  #details .main .content .price {\n    display: block;\n    font-size: 18px;\n    color: #ff6700;\n    border-bottom: 1px solid #e0e0e0;\n    padding: 25px 0 25px;\n  }\n  #details .main .content .price .del {\n    font-size: 14px;\n    margin-left: 10px;\n    color: #b0b0b0;\n    text-decoration: line-through;\n  }\n  #details .main .content .pro-list {\n    background: #f9f9fa;\n    padding: 30px 60px;\n    margin: 50px 0 50px;\n  }\n  #details .main .content .pro-list span {\n    line-height: 30px;\n    color: #616161;\n  }\n  #details .main .content .pro-list .pro-price {\n    float: right;\n  }\n  #details .main .content .pro-list .pro-price .pro-del {\n    margin-left: 10px;\n    text-decoration: line-through;\n  }\n  #details .main .content .pro-list .price-sum {\n    color: #ff6700;\n    font-size: 24px;\n    padding-top: 20px;\n  }\n  #details .main .content .button {\n    height: 55px;\n    margin: 10px 0 20px 0;\n  }\n  #details .main .content .button .el-button {\n    float: left;\n    height: 55px;\n    font-size: 16px;\n    color: #fff;\n    border: none;\n    text-align: center;\n  }\n  #details .main .content .button .shop-cart {\n    width: 340px;\n    background-color: #ff6700;\n  }\n  #details .main .content .button .shop-cart:hover {\n    background-color: #f25807;\n  }\n\n  #details .main .content .button .like {\n    width: 260px;\n    margin-left: 40px;\n    background-color: #b0b0b0;\n  }\n  #details .main .content .button .like:hover {\n    background-color: #757575;\n  }\n  #details .main .content .pro-policy li {\n    float: left;\n    margin-right: 20px;\n    color: #b0b0b0;\n  }\n\n  .v-section-tit {\n    font-size: 18px;\n    line-height: 30px;\n    font-weight: 500;\n    padding: 0 5px;\n    color: #3e3b3f;\n    border-bottom: 1px solid #dedede;\n    margin-bottom: 6px;\n    margin-top: 20px;\n  }\n  .daoyou-item{\n    margin-top:10px;\n    margin-bottom: 10px;\n  }\n  .paper-item{\n    width: 260px;\n    color: #4f4f4f;\n    text-overflow:ellipsis;\n    display: -webkit-box;\n    -webkit-box-orient: vertical;\n    -webkit-box-pack: center;\n    -webkit-box-align: center;\n    -webkit-line-clamp:3;\n    overflow: hidden;\n    border: 1px solid #dedede;\n    padding: 12px 16px 12px 16px;\n  }\n  .hotArticle-list a{\n    text-decoration: none;\n    cursor: pointer;\n  }\n  .hotArticle-list a:hover {\n    color:#fc5531;\n    text-decoration: none;\n  }\n</style>\n"]}]}